"use strict";(self.webpackChunkblokus=self.webpackChunkblokus||[]).push([[179],{0:(qo,os,Ne)=>{function ee(e){return"function"==typeof e}function Jt(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const as=Jt(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ur(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class $e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){n=s instanceof as?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{xp(s)}catch(o){n=n??[],o instanceof as?n=[...n,...o.errors]:n.push(o)}}if(n)throw new as(n)}}add(n){var t;if(n&&n!==this)if(this.closed)xp(n);else{if(n instanceof $e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ur(t,n)}remove(n){const{_finalizers:t}=this;t&&Ur(t,n),n instanceof $e&&n._removeParent(this)}}$e.EMPTY=(()=>{const e=new $e;return e.closed=!0,e})();const Go=$e.EMPTY;function Wo(e){return e instanceof $e||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function xp(e){ee(e)?e():e.unsubscribe()}const ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ko={setTimeout(e,n,...t){const{delegate:r}=Ko;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ko;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fp(e){Ko.setTimeout(()=>{const{onUnhandledError:n}=ur;if(!n)throw e;n(e)})}function Mu(){}const d0=Au("C",void 0,void 0);function Au(e,n,t){return{kind:e,value:n,error:t}}let cr=null;function Qo(e){if(ur.useDeprecatedSynchronousErrorHandling){const n=!cr;if(n&&(cr={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=cr;if(cr=null,t)throw r}}else e()}class Ru extends $e{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Wo(n)&&n.add(this)):this.destination=v0}static create(n,t,r){return new ls(n,t,r)}next(n){this.isStopped?Ou(function h0(e){return Au("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ou(function f0(e){return Au("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ou(d0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g0=Function.prototype.bind;function Nu(e,n){return g0.call(e,n)}class m0{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Zo(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Zo(r)}else Zo(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Zo(t)}}}class ls extends Ru{constructor(n,t,r){let i;if(super(),ee(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ur.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Nu(n.next,s),error:n.error&&Nu(n.error,s),complete:n.complete&&Nu(n.complete,s)}):i=n}this.destination=new m0(i)}}function Zo(e){ur.useDeprecatedSynchronousErrorHandling?function p0(e){ur.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=e)}(e):Fp(e)}function Ou(e,n){const{onStoppedNotification:t}=ur;t&&Ko.setTimeout(()=>t(e,n))}const v0={closed:!0,next:Mu,error:function y0(e){throw e},complete:Mu},Pu="function"==typeof Symbol&&Symbol.observable||"@@observable";function jn(e){return e}function Lp(e){return 0===e.length?jn:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let be=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function D0(e){return e&&e instanceof Ru||function w0(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}(e)&&Wo(e)}(t)?t:new ls(t,r,i);return Qo(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=jp(r))((i,s)=>{const o=new ls({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Pu](){return this}pipe(...t){return Lp(t)(this)}toPromise(t){return new(t=jp(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function jp(e){var n;return null!==(n=e??ur.Promise)&&void 0!==n?n:Promise}const b0=Jt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jt=(()=>{class e extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new $p(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new b0}next(t){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Go:(this.currentObservers=null,s.push(t),new $e(()=>{this.currentObservers=null,Ur(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new be;return t.source=this,t}}return e.create=(n,t)=>new $p(n,t),e})();class $p extends jt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Go}}function Bp(e){return ee(e?.lift)}function Ee(e){return n=>{if(Bp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(e,n,t,r,i){return new E0(e,n,t,r,i)}class E0 extends Ru{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function oe(e,n){return Ee((t,r)=>{let i=0;t.subscribe(Ce(r,s=>{r.next(e.call(n,s,i++))}))})}function $n(e){return this instanceof $n?(this.v=e,this):new $n(e)}function zp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Lu(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const qp=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Gp(e){return ee(e?.then)}function Wp(e){return ee(e[Pu])}function Kp(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function Qp(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zp=function q0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yp(e){return ee(e?.[Zp])}function Jp(e){return function Hp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof $n?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield $n(t.read());if(i)return yield $n(void 0);yield yield $n(r)}}finally{t.releaseLock()}})}function Xp(e){return ee(e?.getReader)}function Et(e){if(e instanceof be)return e;if(null!=e){if(Wp(e))return function G0(e){return new be(n=>{const t=e[Pu]();if(ee(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(qp(e))return function W0(e){return new be(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Gp(e))return function K0(e){return new be(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Fp)})}(e);if(Kp(e))return eg(e);if(Yp(e))return function Q0(e){return new be(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Xp(e))return function Z0(e){return eg(Jp(e))}(e)}throw Qp(e)}function eg(e){return new be(n=>{(function Y0(e,n){var t,r,i,s;return function Up(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zp(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function vn(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Pe(e,n,t=1/0){return ee(n)?Pe((r,i)=>oe((s,o)=>n(r,s,i,o))(Et(e(r,i))),t):("number"==typeof n&&(t=n),Ee((r,i)=>function J0(e,n,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{s&&n.next(g),u++;let m=!1;Et(t(g,c++)).subscribe(Ce(n,_=>{i?.(_),s?h(_):n.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const _=l.shift();o?vn(n,o,()=>p(_)):p(_)}f()}catch(_){n.error(_)}}))};return e.subscribe(Ce(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function Vr(e=1/0){return Pe(jn,e)}const Xt=new be(e=>e.complete());function tg(e){return e&&ee(e.schedule)}function ju(e){return e[e.length-1]}function us(e){return tg(ju(e))?e.pop():void 0}function ng(e,n=0){return Ee((t,r)=>{t.subscribe(Ce(r,i=>vn(r,e,()=>r.next(i),n),()=>vn(r,e,()=>r.complete(),n),i=>vn(r,e,()=>r.error(i),n)))})}function rg(e,n=0){return Ee((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ig(e,n){if(!e)throw new Error("Iterable cannot be null");return new be(t=>{vn(t,n,()=>{const r=e[Symbol.asyncIterator]();vn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ke(e,n){return n?function aS(e,n){if(null!=e){if(Wp(e))return function nS(e,n){return Et(e).pipe(rg(n),ng(n))}(e,n);if(qp(e))return function iS(e,n){return new be(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Gp(e))return function rS(e,n){return Et(e).pipe(rg(n),ng(n))}(e,n);if(Kp(e))return ig(e,n);if(Yp(e))return function sS(e,n){return new be(t=>{let r;return vn(t,n,()=>{r=e[Zp](),vn(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}(e,n);if(Xp(e))return function oS(e,n){return ig(Jp(e),n)}(e,n)}throw Qp(e)}(e,n):Et(e)}class ve extends jt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function L(...e){return ke(e,us(e))}function sg(e={}){const{connector:n=(()=>new jt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,c=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Ee((g,m)=>{u++,!d&&!c&&f();const _=l=l??n();m.add(()=>{u--,0===u&&!d&&!c&&(a=$u(p,i))}),_.subscribe(m),!o&&u>0&&(o=new ls({next:y=>_.next(y),error:y=>{d=!0,f(),a=$u(h,t,y),_.error(y)},complete:()=>{c=!0,f(),a=$u(h,r),_.complete()}}),Et(g).subscribe(o))})(s)}}function $u(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new ls({next:()=>{r.unsubscribe(),e()}});return Et(n(...t)).subscribe(r)}function en(e,n){return Ee((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ce(r,l=>{i?.unsubscribe();let u=0;const c=s++;Et(e(l,c)).subscribe(i=Ce(r,d=>r.next(n?n(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function cS(e,n){return e===n}function te(e){for(let n in e)if(e[n]===te)return n;throw Error("Could not find renamed property on target object.")}function Me(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Bu(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const dS=te({__forward_ref__:te});function Uu(e){return e.__forward_ref__=Uu,e.toString=function(){return Me(this())},e}function F(e){return Vu(e)?e():e}function Vu(e){return"function"==typeof e&&e.hasOwnProperty(dS)&&e.__forward_ref__===Uu}function Hu(e){return e&&!!e.\u0275providers}class w extends Error{constructor(n,t){super(function Jo(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function j(e){return"string"==typeof e?e:null==e?"":String(e)}function zu(e,n){throw new w(-201,!1)}function Ct(e,n){null==e&&function k(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _n(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xo(e){return ag(e,ta)||ag(e,lg)}function ag(e,n){return e.hasOwnProperty(n)?e[n]:null}function ea(e){return e&&(e.hasOwnProperty(qu)||e.hasOwnProperty(_S))?e[qu]:null}const ta=te({\u0275prov:te}),qu=te({\u0275inj:te}),lg=te({ngInjectableDef:te}),_S=te({ngInjectorDef:te});var H=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(H||{});let Gu;function it(e){const n=Gu;return Gu=e,n}function cg(e,n,t){const r=Xo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&H.Optional?null:void 0!==n?n:void zu(Me(e))}const ae=globalThis;class A{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cs={},Yu="__NG_DI_FLAG__",na="ngTempTokenPath",bS=/\n/gm,fg="__source";let Hr;function Bn(e){const n=Hr;return Hr=e,n}function SS(e,n=H.Default){if(void 0===Hr)throw new w(-203,!1);return null===Hr?cg(e,void 0,n):Hr.get(e,n&H.Optional?null:void 0,n)}function T(e,n=H.Default){return(function ug(){return Gu}()||SS)(F(e),n)}function S(e,n=H.Default){return T(e,ra(n))}function ra(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ju(e){const n=[];for(let t=0;t<e.length;t++){const r=F(e[t]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],l=IS(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(T(i,s))}else n.push(T(r))}return n}function ds(e,n){return e[Yu]=n,e.prototype[Yu]=n,e}function IS(e){return e[Yu]}function wn(e){return{toString:e}.toString()}var ia=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ia||{}),St=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(St||{});const tn={},Z=[],sa=te({\u0275cmp:te}),Xu=te({\u0275dir:te}),ec=te({\u0275pipe:te}),pg=te({\u0275mod:te}),Dn=te({\u0275fac:te}),fs=te({__NG_ELEMENT_ID__:te}),gg=te({__NG_ENV_ID__:te});function mg(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}function tc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];e.setAttribute(n,o,a,s)}else{const s=i,o=t[++r];vg(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function yg(e){return 3===e||4===e||6===e}function vg(e){return 64===e.charCodeAt(0)}function hs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||_g(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function _g(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const wg="ng-template";function AS(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(t&&"class"===s&&-1!==mg(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Dg(e){return 4===e.type&&e.value!==wg}function RS(e,n,t){return n===(4!==e.type||t?e.value:wg)}function NS(e,n,t){let r=4;const i=e.attrs||[],s=function kS(e){for(let n=0;n<e.length;n++)if(yg(e[n]))return n;return e.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!RS(e,l,t)||""===l&&1===n.length){if($t(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!AS(e.attrs,u,t)){if($t(r))return!1;o=!0}continue}const d=OS(8&r?"class":l,i,Dg(e),t);if(-1===d){if($t(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==mg(h,u,0)||2&r&&u!==f){if($t(r))return!1;o=!0}}}}else{if(!o&&!$t(r)&&!$t(l))return!1;if(o&&$t(l))continue;o=!1,r=l|1&r}}return $t(r)||o}function $t(e){return 0==(1&e)}function OS(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function xS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function bg(e,n,t=!1){for(let r=0;r<n.length;r++)if(NS(e,n[r],t))return!0;return!1}function Eg(e,n){return e?":not("+n.trim()+")":n}function LS(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!$t(o)&&(n+=Eg(s,i),i=""),r=o,s=s||!$t(r);t++}return""!==i&&(n+=Eg(s,i)),n}function fr(e){return wn(()=>{const n=Ig(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ia.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||St.Emulated,styles:e.styles||Z,_:null,schemas:e.schemas||null,tView:null,id:""};Tg(t);const r=e.dependencies;return t.directiveDefs=oa(r,!1),t.pipeDefs=oa(r,!0),t.id=function zS(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function BS(e){return G(e)||xe(e)}function US(e){return null!==e}function Un(e){return wn(()=>({type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Sg(e,n){if(null==e)return tn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function Ke(e){return wn(()=>{const n=Ig(e);return Tg(n),n})}function G(e){return e[sa]||null}function xe(e){return e[Xu]||null}function Qe(e){return e[ec]||null}function ht(e,n){const t=e[pg]||null;if(!t&&!0===n)throw new Error(`Type ${Me(e)} does not have '\u0275mod' property.`);return t}function Ig(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||tn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sg(e.inputs,n),outputs:Sg(e.outputs)}}function Tg(e){e.features?.forEach(n=>n(e))}function oa(e,n){if(!e)return null;const t=n?Qe:BS;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(US)}const me=0,C=1,U=2,he=3,Bt=4,ps=5,Be=6,qr=7,_e=8,Vn=9,Gr=10,$=11,gs=12,Mg=13,Wr=14,we=15,ms=16,Kr=17,nn=18,ys=19,Ag=20,Hn=21,bn=22,vs=23,_s=24,z=25,nc=1,Rg=2,rn=7,Qr=9,Fe=11;function ot(e){return Array.isArray(e)&&"object"==typeof e[nc]}function Ze(e){return Array.isArray(e)&&!0===e[nc]}function rc(e){return 0!=(4&e.flags)}function hr(e){return e.componentOffset>-1}function la(e){return 1==(1&e.flags)}function Ut(e){return!!e.template}function ic(e){return 0!=(512&e[U])}function pr(e,n){return e.hasOwnProperty(Dn)?e[Dn]:null}let Le=null,ua=!1;function It(e){const n=Le;return Le=e,n}const Pg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xg(e){if(!Ds(e)||e.dirty){if(!e.producerMustRecompute(e)&&!jg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Lg(e){e.dirty=!0,function Fg(e){if(void 0===e.liveConsumerNode)return;const n=ua;ua=!0;try{for(const t of e.liveConsumerNode)t.dirty||Lg(t)}finally{ua=n}}(e),e.consumerMarkedDirty?.(e)}function oc(e){return e&&(e.nextProducerIndex=0),It(e)}function ac(e,n){if(It(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ds(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ca(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function jg(e){Zr(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(xg(t),r!==t.version))return!0}return!1}function $g(e){if(Zr(e),Ds(e))for(let n=0;n<e.producerNode.length;n++)ca(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ca(e,n){if(function Ug(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Zr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ca(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Zr(i),i.producerIndexOfThis[r]=n}}function Ds(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Zr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Vg=null;const Gg=()=>{},rI=(()=>({...Pg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Gg}))();class iI{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function gr(){return Wg}function Wg(e){return e.type.prototype.ngOnChanges&&(e.setInput=oI),sI}function sI(){const e=Qg(this),n=e?.current;if(n){const t=e.previous;if(t===tn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function oI(e,n,t,r){const i=this.declaredInputs[t],s=Qg(e)||function aI(e,n){return e[Kg]=n}(e,{previous:tn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new iI(l&&l.currentValue,n,a===tn),e[r]=n}gr.ngInherit=!0;const Kg="__ngSimpleChanges__";function Qg(e){return e[Kg]||null}const sn=function(e,n,t){};function le(e){for(;Array.isArray(e);)e=e[me];return e}function da(e,n){return le(n[e])}function at(e,n){return le(n[e.index])}function Jg(e,n){return e.data[n]}function pt(e,n){const t=n[e];return ot(t)?t:t[me]}function qn(e,n){return null==n?null:e[n]}function Xg(e){e[Kr]=0}function hI(e){1024&e[U]||(e[U]|=1024,tm(e,1))}function em(e){1024&e[U]&&(e[U]&=-1025,tm(e,-1))}function tm(e,n){let t=e[he];if(null===t)return;t[ps]+=n;let r=t;for(t=t[he];null!==t&&(1===n&&1===r[ps]||-1===n&&0===r[ps]);)t[ps]+=n,r=t,t=t[he]}const x={lFrame:fm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function im(){return x.bindingsEnabled}function D(){return x.lFrame.lView}function W(){return x.lFrame.tView}function bs(e){return x.lFrame.contextLView=e,e[_e]}function Es(e){return x.lFrame.contextLView=null,e}function je(){let e=sm();for(;null!==e&&64===e.type;)e=e.parent;return e}function sm(){return x.lFrame.currentTNode}function on(e,n){const t=x.lFrame;t.currentTNode=e,t.isParent=n}function fc(){return x.lFrame.isParent}function Xr(){return x.lFrame.bindingIndex++}function SI(e,n){const t=x.lFrame;t.bindingIndex=t.bindingRootIndex=e,pc(n)}function pc(e){x.lFrame.currentDirectiveIndex=e}function mc(e){x.lFrame.currentQueryIndex=e}function TI(e){const n=e[C];return 2===n.type?n.declTNode:1===n.type?e[Be]:null}function cm(e,n,t){if(t&H.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&H.Host||(i=TI(s),null===i||(s=s[Wr],10&i.type))););if(null===i)return!1;n=i,e=s}const r=x.lFrame=dm();return r.currentTNode=n,r.lView=e,!0}function yc(e){const n=dm(),t=e[C];x.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function dm(){const e=x.lFrame,n=null===e?null:e.child;return null===n?fm(e):n}function fm(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function hm(){const e=x.lFrame;return x.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pm=hm;function vc(){const e=hm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Je(){return x.lFrame.selectedIndex}function mr(e){x.lFrame.selectedIndex=e}let mm=!0;function fa(){return mm}function Gn(e){mm=e}function ha(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=c&&(e.destroyHooks??=[]).push(t,c)}}function pa(e,n,t){ym(e,n,3,t)}function ga(e,n,t,r){(3&e[U])===t&&ym(e,n,t,r)}function _c(e,n){let t=e[U];(3&t)===n&&(t&=8191,t+=1,e[U]=t)}function ym(e,n,t,r){const s=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&e[Kr]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[Kr]+=65536),(a<s||-1==s)&&(xI(e,t,n,l),e[Kr]=(4294901760&e[Kr])+l+2),l++}function vm(e,n){sn(4,e,n);const t=It(null);try{n.call(e)}finally{It(t),sn(5,e,n)}}function xI(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];i?e[U]>>13<e[Kr]>>16&&(3&e[U])===n&&(e[U]+=8192,vm(a,s)):vm(a,s)}const ei=-1;class Ss{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Dc(e){return e!==ei}function Is(e){return 32767&e}function Ts(e,n){let t=function $I(e){return e>>16}(e),r=n;for(;t>0;)r=r[Wr],t--;return r}let bc=!0;function ma(e){const n=bc;return bc=e,n}const _m=255,wm=5;let BI=0;const an={};function ya(e,n){const t=Dm(e,n);if(-1!==t)return t;const r=n[C];r.firstCreatePass&&(e.injectorIndex=n.length,Ec(r.data,e),Ec(n,null),Ec(r.blueprint,null));const i=va(e,n),s=e.injectorIndex;if(Dc(i)){const o=Is(i),a=Ts(i,n),l=a[C].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function Ec(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Dm(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function va(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Am(i),null===r)return ei;if(t++,i=i[Wr],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ei}function Cc(e,n,t){!function UI(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(fs)&&(r=t[fs]),null==r&&(r=t[fs]=BI++);const i=r&_m;n.data[e+(i>>wm)]|=1<<i}(e,n,t)}function bm(e,n,t){if(t&H.Optional||void 0!==e)return e;zu()}function Em(e,n,t,r){if(t&H.Optional&&void 0===r&&(r=null),!(t&(H.Self|H.Host))){const i=e[Vn],s=it(void 0);try{return i?i.get(n,r,t&H.Optional):cg(n,r,t&H.Optional)}finally{it(s)}}return bm(r,0,t)}function Cm(e,n,t,r=H.Default,i){if(null!==e){if(2048&n[U]&&!(r&H.Self)){const o=function WI(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[U]&&!(512&o[U]);){const a=Sm(s,o,t,r|H.Self,an);if(a!==an)return a;let l=s.parent;if(!l){const u=o[Ag];if(u){const c=u.get(t,an,r);if(c!==an)return c}l=Am(o),o=o[Wr]}s=l}return i}(e,n,t,r,an);if(o!==an)return o}const s=Sm(e,n,t,r,an);if(s!==an)return s}return Em(n,t,r,i)}function Sm(e,n,t,r,i){const s=function zI(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(fs)?e[fs]:void 0;return"number"==typeof n?n>=0?n&_m:GI:n}(t);if("function"==typeof s){if(!cm(n,e,r))return r&H.Host?bm(i,0,r):Em(n,t,r,i);try{let o;if(o=s(r),null!=o||r&H.Optional)return o;zu()}finally{pm()}}else if("number"==typeof s){let o=null,a=Dm(e,n),l=ei,u=r&H.Host?n[we][Be]:null;for((-1===a||r&H.SkipSelf)&&(l=-1===a?va(e,n):n[a+8],l!==ei&&Tm(r,!1)?(o=n[C],a=Is(l),n=Ts(l,n)):a=-1);-1!==a;){const c=n[C];if(Im(s,a,c.data)){const d=HI(a,n,t,o,r,u);if(d!==an)return d}l=n[a+8],l!==ei&&Tm(r,n[C].data[a+8]===u)&&Im(s,a,n)?(o=c,a=Is(l),n=Ts(l,n)):a=-1}}return i}function HI(e,n,t,r,i,s){const o=n[C],a=o.data[e+8],c=function _a(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,c=s>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=o[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=o[l];if(h&&Ut(h)&&h.type===t)return l}return null}(a,o,t,null==r?hr(a)&&bc:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==c?yr(n,o,c,a):an}function yr(e,n,t,r){let i=e[t];const s=n.data;if(function FI(e){return e instanceof Ss}(i)){const o=i;o.resolving&&function fS(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new w(-200,`Circular dependency in DI detected for ${e}${t}`)}(function X(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():j(e)}(s[t]));const a=ma(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?it(o.injectImpl):null;cm(e,r,H.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function kI(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=Wg(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==u&&it(u),ma(a),o.resolving=!1,pm()}}return i}function Im(e,n,t){return!!(t[n+(e>>wm)]&1<<e)}function Tm(e,n){return!(e&H.Self||e&H.Host&&n)}class Xe{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Cm(this._tNode,this._lView,n,ra(r),t)}}function GI(){return new Xe(je(),D())}function Sc(e){return Vu(e)?()=>{const n=Sc(F(e));return n&&n()}:pr(e)}function Am(e){const n=e[C],t=n.type;return 2===t?n.declTNode:1===t?e[Be]:null}const ni="__parameters__";function ii(e,n,t){return wn(()=>{const r=function Ic(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(ni)?l[ni]:Object.defineProperty(l,ni,{value:[]})[ni];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function oi(e,n){e.forEach(t=>Array.isArray(t)?oi(t,n):n(t))}function Nm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Da(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function gt(e,n,t){let r=ai(e,n);return r>=0?e[1|r]=t:(r=~r,function eT(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Tc(e,n){const t=ai(e,n);if(t>=0)return e[1|t]}function ai(e,n){return function Om(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const Ea=ds(ii("Optional"),8),Ca=ds(ii("SkipSelf"),4);function Aa(e){return 128==(128&e.flags)}var Wn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wn||{});const Oc=new Map;let CT=0;const kc="__ngContext__";function Ue(e,n){ot(n)?(e[kc]=n[ys],function IT(e){Oc.set(e[ys],e)}(n)):e[kc]=n}let xc;function Fc(e,n){return xc(e,n)}function Ps(e){const n=e[he];return Ze(n)?n[he]:n}function Jm(e){return ey(e[gs])}function Xm(e){return ey(e[Bt])}function ey(e){for(;null!==e&&!Ze(e);)e=e[Bt];return e}function ci(e,n,t,r,i){if(null!=r){let s,o=!1;Ze(r)?s=r:ot(r)&&(o=!0,r=r[me]);const a=le(r);0===e&&null!==t?null==i?iy(n,t,a):vr(n,t,a,i||null,!0):1===e&&null!==t?vr(n,t,a,i||null,!0):2===e?function Fa(e,n,t){const r=ka(e,n);r&&function qT(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function KT(e,n,t,r,i){const s=t[rn];s!==le(t)&&ci(n,e,r,s,i);for(let a=Fe;a<t.length;a++){const l=t[a];xs(l[C],l,e,n,r,s)}}(n,e,s,t,i)}}function Oa(e,n,t){return e.createElement(n,t)}function ny(e,n){const t=e[Qr],r=t.indexOf(n);em(n),t.splice(r,1)}function Pa(e,n){if(e.length<=Fe)return;const t=Fe+n,r=e[t];if(r){const i=r[ms];null!==i&&i!==e&&ny(i,r),n>0&&(e[t-1][Bt]=r[Bt]);const s=Da(e,Fe+n);!function LT(e,n){xs(e,n,n[$],2,null,null),n[me]=null,n[Be]=null}(r[C],r);const o=s[nn];null!==o&&o.detachView(s[C]),r[he]=null,r[Bt]=null,r[U]&=-129}return r}function jc(e,n){if(!(256&n[U])){const t=n[$];n[vs]&&$g(n[vs]),n[_s]&&$g(n[_s]),t.destroyNode&&xs(e,n,t,3,null,null),function BT(e){let n=e[gs];if(!n)return $c(e[C],e);for(;n;){let t=null;if(ot(n))t=n[gs];else{const r=n[Fe];r&&(t=r)}if(!t){for(;n&&!n[Bt]&&n!==e;)ot(n)&&$c(n[C],n),n=n[he];null===n&&(n=e),ot(n)&&$c(n[C],n),t=n&&n[Bt]}n=t}}(n)}}function $c(e,n){if(!(256&n[U])){n[U]&=-129,n[U]|=256,function zT(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ss)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];sn(4,a,l);try{l.call(a)}finally{sn(5,a,l)}}else{sn(4,i,s);try{s.call(i)}finally{sn(5,i,s)}}}}}(e,n),function HT(e,n){const t=e.cleanup,r=n[qr];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[qr]=null);const i=n[Hn];if(null!==i){n[Hn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,n),1===n[C].type&&n[$].destroy();const t=n[ms];if(null!==t&&Ze(n[he])){t!==n[he]&&ny(t,n);const r=n[nn];null!==r&&r.detachView(e)}!function TT(e){Oc.delete(e[ys])}(n)}}function Bc(e,n,t){return function ry(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[me];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===St.None||s===St.Emulated)return null}return at(r,t)}}(e,n.parent,t)}function vr(e,n,t,r,i){e.insertBefore(n,t,r,i)}function iy(e,n,t){e.appendChild(n,t)}function sy(e,n,t,r,i){null!==r?vr(e,n,t,r,i):iy(e,n,t)}function ka(e,n){return e.parentNode(n)}let Uc,qc,ly=function ay(e,n,t){return 40&e.type?at(e,t):null};function xa(e,n,t,r){const i=Bc(e,r,n),s=n[$],a=function oy(e,n,t){return ly(e,n,t)}(r.parent||n[Be],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)sy(s,i,t[l],a,!1);else sy(s,i,t,a,!1);void 0!==Uc&&Uc(s,r,n,t,i)}function ks(e,n){if(null!==n){const t=n.type;if(3&t)return at(n,e);if(4&t)return Vc(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ks(e,r);{const i=e[n.index];return Ze(i)?Vc(-1,i):le(i)}}if(32&t)return Fc(n,e)()||le(e[n.index]);{const r=cy(e,n);return null!==r?Array.isArray(r)?r[0]:ks(Ps(e[we]),r):ks(e,n.next)}}return null}function cy(e,n){return null!==n?e[we][Be].projection[n.projection]:null}function Vc(e,n){const t=Fe+e+1;if(t<n.length){const r=n[t],i=r[C].firstChild;if(null!==i)return ks(r,i)}return n[rn]}function Hc(e,n,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===n&&(a&&Ue(le(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Hc(e,n,t.child,r,i,s,!1),ci(n,e,i,a,s);else if(32&l){const u=Fc(t,r);let c;for(;c=u();)ci(n,e,i,c,s);ci(n,e,i,a,s)}else 16&l?fy(e,n,r,t,i,s):ci(n,e,i,a,s);t=o?t.projectionNext:t.next}}function xs(e,n,t,r,i,s){Hc(t,r,e.firstChild,n,i,s,!1)}function fy(e,n,t,r,i,s){const o=t[we],l=o[Be].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ci(n,e,i,l[u],s);else{let u=l;const c=o[he];Aa(r)&&(u.flags|=128),Hc(e,n,u,c,i,s,!0)}}function hy(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function py(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&tc(e,n,r),null!==i&&hy(e,n,i),null!==s&&function ZT(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class vy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const $s=new A("ENVIRONMENT_INITIALIZER"),My=new A("INJECTOR",-1),Ay=new A("INJECTOR_DEF_TYPES");class Yc{get(n,t=cs){if(t===cs){const r=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw r.name="NullInjectorError",r}return t}}function EM(...e){return{\u0275providers:Ny(0,e),\u0275fromNgModule:!0}}function Ny(e,...n){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return oi(n,o=>{const a=o;Ba(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Oy(i,s),t}function Oy(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Jc(i,s=>{n(s,r)})}}function Ba(e,n,t,r){if(!(e=F(e)))return!1;let i=null,s=ea(e);const o=!s&&G(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=ea(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Ba(u,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{oi(s.imports,c=>{Ba(c,n,t,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&Oy(u,n)}if(!a){const u=pr(i)||(()=>new i);n({provide:i,useFactory:u,deps:Z},i),n({provide:Ay,useValue:i,multi:!0},i),n({provide:$s,useValue:()=>T(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=e;Jc(l,c=>{n(c,u)})}}}return i!==e&&void 0!==e.providers}function Jc(e,n){for(let t of e)Hu(t)&&(t=t.\u0275providers),Array.isArray(t)?Jc(t,n):n(t)}const CM=te({provide:String,useValue:te});function Xc(e){return null!==e&&"object"==typeof e&&CM in e}function _r(e){return"function"==typeof e}const ed=new A("Set Injector scope."),Ua={},IM={};let td;function Va(){return void 0===td&&(td=new Yc),td}class Mt{}class pi extends Mt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rd(n,o=>this.processProvider(o)),this.records.set(My,gi(void 0,this)),i.has("environment")&&this.records.set(Mt,gi(void 0,this));const s=this.records.get(ed);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ay.multi,Z,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Bn(this),r=it(void 0);try{return n()}finally{Bn(t),it(r)}}get(n,t=cs,r=H.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(gg))return n[gg](this);r=ra(r);const s=Bn(this),o=it(void 0);try{if(!(r&H.SkipSelf)){let l=this.records.get(n);if(void 0===l){const u=function NM(e){return"function"==typeof e||"object"==typeof e&&e instanceof A}(n)&&Xo(n);l=u&&this.injectableDefInScope(u)?gi(nd(n),Ua):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&H.Self?Va():this.parent).get(n,t=r&H.Optional&&t===cs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[na]=a[na]||[]).unshift(Me(n)),s)throw a;return function TS(e,n,t,r){const i=e[na];throw n[fg]&&i.unshift(n[fg]),e.message=function MS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Me(n);if(Array.isArray(n))i=n.map(Me).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(bS,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[na]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{it(o),Bn(s)}}resolveInjectorInitializers(){const n=Bn(this),t=it(void 0);try{const i=this.get($s.multi,Z,H.Self);for(const s of i)s()}finally{Bn(n),it(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Me(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(n){let t=_r(n=F(n))?n:F(n&&n.provide);const r=function MM(e){return Xc(e)?gi(void 0,e.useValue):gi(function xy(e,n,t){let r;if(_r(e)){const i=F(e);return pr(i)||nd(i)}if(Xc(e))r=()=>F(e.useValue);else if(function ky(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ju(e.deps||[]));else if(function Py(e){return!(!e||!e.useExisting)}(e))r=()=>T(F(e.useExisting));else{const i=F(e&&(e.useClass||e.provide));if(!function AM(e){return!!e.deps}(e))return pr(i)||nd(i);r=()=>new i(...Ju(e.deps))}return r}(e),Ua)}(n);if(_r(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=gi(void 0,Ua,!0),i.factory=()=>Ju(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Ua&&(t.value=IM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function RM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=F(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function nd(e){const n=Xo(e),t=null!==n?n.factory:pr(e);if(null!==t)return t;if(e instanceof A)throw new w(204,!1);if(e instanceof Function)return function TM(e){const n=e.length;if(n>0)throw function Rs(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new w(204,!1);const t=function vS(e){return e&&(e[ta]||e[lg])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new w(204,!1)}function gi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function rd(e,n){for(const t of e)Array.isArray(t)?rd(t,n):t&&Hu(t)?rd(t.\u0275providers,n):n(t)}const Ha=new A("AppId",{providedIn:"root",factory:()=>OM}),OM="ng",Fy=new A("Platform Initializer"),mi=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ly=new A("AnimationModuleType"),jy=new A("CSP nonce",{providedIn:"root",factory:()=>function fi(){if(void 0!==qc)return qc;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $y=(e,n,t)=>null;function dd(e,n,t=!1){return $y(e,n,t)}class VM{}class Vy{}class zM{resolveComponentFactory(n){throw function HM(e){const n=Error(`No component factory found for ${Me(e)}.`);return n.ngComponent=e,n}(n)}}let Qa=(()=>{class e{static#e=this.NULL=new zM}return e})();function qM(){return _i(je(),D())}function _i(e,n){return new Qn(at(e,n))}let Qn=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=qM}return e})();class Vs{}let KM=(()=>{class e{static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>null})}return e})();class Ya{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const QM=new Ya("16.2.12"),pd={};function Wy(e,n=null,t=null,r){const i=Ky(e,n,t,r);return i.resolveInjectorInitializers(),i}function Ky(e,n=null,t=null,r,i=new Set){const s=[t||Z,EM(e)];return r=r||("object"==typeof e?void 0:Me(e)),new pi(s,n||Va(),r||null,i)}let At=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=cs;static#t=this.NULL=new Yc;static create(t,r){if(Array.isArray(t))return Wy({name:""},r,t,"");{const i=t.name??"";return Wy({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=R({token:e,providedIn:"any",factory:()=>T(My)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function md(e){return e.ngOriginalError}class In{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&md(n);for(;t&&md(t);)t=md(t);return t||null}}function vd(e){return n=>{setTimeout(e,void 0,n)}}const et=class nA extends jt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=vd(s),i&&(i=vd(i)),o&&(o=vd(o)));const a=super.subscribe({next:i,error:s,complete:o});return n instanceof $e&&n.add(a),a}};function Zy(...e){}class re{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function rA(){const e="function"==typeof ae.requestAnimationFrame;let n=ae[e?"requestAnimationFrame":"setTimeout"],t=ae[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function oA(e){const n=()=>{!function sA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wd(e),e.isCheckStableRunning=!0,_d(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function lA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return Yy(e),t.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),Jy(e)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return Yy(e),t.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),Jy(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,wd(e),_d(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!re.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(re.isInAngularZone())throw new w(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,iA,Zy,Zy);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const iA={};function _d(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Yy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jy(e){e._nesting--,_d(e)}class aA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Xy=new A("",{providedIn:"root",factory:ev});function ev(){const e=S(re);let n=!0;return function lS(...e){const n=us(e),t=function tS(e,n){return"number"==typeof ju(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Et(r[0]):Vr(t)(ke(r,n)):Xt}(new be(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new be(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{re.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sg()))}function Tn(e){return e instanceof Function?e():e}let Dd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();function Hs(e){for(;e;){e[U]|=64;const n=Ps(e);if(ic(e)&&!n)return e;e=n}return null}const sv=new A("",{providedIn:"root",factory:()=>!1});let Xa=null;function uv(e,n){return e[n]??fv()}function cv(e,n){const t=fv();t.producerNode?.length&&(e[n]=Xa,t.lView=e,Xa=dv())}const vA={...Pg,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Hs(e.lView)},lView:null};function dv(){return Object.create(vA)}function fv(){return Xa??=dv(),Xa}const B={};function mt(e){hv(W(),D(),Je()+e,!1)}function hv(e,n,t,r){if(!r)if(3==(3&n[U])){const s=e.preOrderCheckHooks;null!==s&&pa(n,s,t)}else{const s=e.preOrderHooks;null!==s&&ga(n,s,0,t)}mr(t)}function M(e,n=H.Default){const t=D();return null===t?T(e,n):Cm(je(),t,F(e),n)}function el(e,n,t,r,i,s,o,a,l,u,c){const d=n.blueprint.slice();return d[me]=i,d[U]=140|r,(null!==u||e&&2048&e[U])&&(d[U]|=2048),Xg(d),d[he]=d[Wr]=e,d[_e]=t,d[Gr]=o||e&&e[Gr],d[$]=a||e&&e[$],d[Vn]=l||e&&e[Vn]||null,d[Be]=s,d[ys]=function ST(){return CT++}(),d[bn]=c,d[Ag]=u,d[we]=2==n.type?e[we]:d,d}function bi(e,n,t,r,i){let s=e.data[n];if(null===s)s=function bd(e,n,t,r,i){const s=sm(),o=fc(),l=e.data[n]=function IA(e,n,t,r,i,s){let o=n?n.injectorIndex:-1,a=0;return function Jr(){return null!==x.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,r,i),function CI(){return x.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Cs(){const e=x.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return on(s,!0),s}function zs(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function gv(e,n,t,r,i){const s=uv(n,vs),o=Je(),a=2&r;try{mr(-1),a&&n.length>z&&hv(e,n,z,!1),sn(a?2:0,i);const u=a?s:null,c=oc(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{ac(u,c)}}finally{a&&null===n[vs]&&cv(n,vs),mr(o),sn(a?3:1,i)}}function Ed(e,n,t){if(rc(n)){const r=It(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{It(r)}}}function Cd(e,n,t){im()&&(function PA(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;hr(t)&&function BA(e,n,t){const r=at(n,e),i=mv(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=tl(e,el(e,i,null,o,r,n,null,e[Gr].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||ya(t,n),Ue(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=yr(n,e,a,t);Ue(u,n),null!==o&&UA(0,a-i,u,l,0,o),Ut(l)&&(pt(t.index,n)[_e]=yr(n,e,a,t))}}(e,n,t,at(t,n)),64==(64&t.flags)&&Dv(e,n,t))}function Sd(e,n,t=at){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function mv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Id(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Id(e,n,t,r,i,s,o,a,l,u,c){const d=z+r,f=d+i,h=function wA(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:B);return t}(d,f),p="function"==typeof u?u():u;return h[C]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let yv=e=>null;function vv(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?_v(t,n,i,s):r.hasOwnProperty(i)&&_v(t,n,r[i],s)}return t}function _v(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Td(e,n,t,r){if(im()){const i=null===r?null:{"":-1},s=function xA(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(bg(n,o.selectors,!1))if(r||(r=[]),Ut(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Md(e,n,a.length)}else r.unshift(o),Md(e,n,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wv(e,n,t,o,i,a),i&&function FA(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new w(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=hs(t.mergedAttrs,t.attrs)}function wv(e,n,t,r,i,s){for(let u=0;u<r.length;u++)Cc(ya(t,n),e,r[u].type);!function jA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=zs(e,n,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=hs(t.mergedAttrs,c.hostAttrs),$A(e,t,n,l,c),LA(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function TA(e,n,t){const i=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<i;c++){const d=s[c],f=t?t.get(d):null,p=f?f.outputs:null;l=vv(d.inputs,c,l,f?f.inputs:null),u=vv(d.outputs,c,u,p);const g=null===l||null===o||Dg(n)?null:VA(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(e,t,s)}function Dv(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function II(){return x.lFrame.currentDirectiveIndex}();try{mr(s);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];pc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&kA(l,u)}}finally{mr(-1),pc(o)}}function kA(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Md(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function LA(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ut(n)&&(t[""]=e)}}function $A(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=pr(i.type)),o=new Ss(s,Ut(i),M);e.blueprint[r]=o,t[r]=o,function NA(e,n,t,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function OA(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(e,n,r,zs(e,t,i.hostVars,B),i)}function UA(e,n,t,r,i,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)bv(r,t,o[a++],o[a++],o[a++])}function bv(e,n,t,r,i){const s=It(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{It(s)}}function VA(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ev(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Cv(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=e.data[s];mc(t[r]),o.contentQueries(2,n[s],s)}}}function tl(e,n){return e[gs]?e[Mg][Bt]=n:e[gs]=n,e[Mg]=n,n}function Rd(e,n,t){mc(0);const r=It(null);try{n(e,t)}finally{It(r)}}function Mv(e,n){const t=e[Vn],r=t?t.get(In,null):null;r&&r.handleError(n)}function Nd(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];bv(e.data[o],n[o],r,a,i)}}function HA(e,n){const t=pt(n,e),r=t[C];!function zA(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[me];null!==i&&null===t[bn]&&(t[bn]=dd(i,t[Vn])),Od(r,t,t[_e])}function Od(e,n,t){yc(n);try{const r=e.viewQuery;null!==r&&Rd(1,r,t);const i=e.template;null!==i&&gv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Cv(e,n),e.staticViewQueries&&Rd(2,e.viewQuery,t);const s=e.components;null!==s&&function qA(e,n){for(let t=0;t<n.length;t++)HA(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[U]&=-5,vc()}}let Av=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function nI(e,n,t){const r=Object.create(rI);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Lg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!jg(r))return;r.hasRun=!0;const o=oc(r);try{r.cleanupFn(),r.cleanupFn=Gg,r.fn(i)}finally{ac(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();function nl(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=Bu(i,a):2==s&&(r=Bu(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function qs(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];null!==s&&r.push(le(s)),Ze(s)&&Rv(s,r);const o=t.type;if(8&o)qs(e,n,t.child,r);else if(32&o){const a=Fc(t,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=cy(n,t);if(Array.isArray(a))r.push(...a);else{const l=Ps(n[we]);qs(l[C],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Rv(e,n){for(let t=Fe;t<e.length;t++){const r=e[t],i=r[C].firstChild;null!==i&&qs(r[C],r,i,n)}e[rn]!==e[me]&&n.push(e[rn])}function rl(e,n,t,r=!0){const i=n[Gr],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Nv(e,n,e.template,t)}catch(l){throw r&&Mv(n,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Nv(e,n,t,r){const i=n[U];if(256!=(256&i)){n[Gr].effectManager?.flush(),yc(n);try{Xg(n),function am(e){return x.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&gv(e,n,t,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&pa(n,u,null)}else{const u=e.preOrderHooks;null!==u&&ga(n,u,0,null),_c(n,0)}if(function KA(e){for(let n=Jm(e);null!==n;n=Xm(n)){if(!n[Rg])continue;const t=n[Qr];for(let r=0;r<t.length;r++){hI(t[r])}}}(n),Ov(n,2),null!==e.contentQueries&&Cv(e,n),o){const u=e.contentCheckHooks;null!==u&&pa(n,u)}else{const u=e.contentHooks;null!==u&&ga(n,u,1),_c(n,1)}!function _A(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=uv(n,_s);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)mr(~s);else{const o=s,a=t[++i],l=t[++i];SI(a,o),r.dirty=!1;const u=oc(r);try{l(2,n[o])}finally{ac(r,u)}}}}finally{null===n[_s]&&cv(n,_s),mr(-1)}}(e,n);const a=e.components;null!==a&&kv(n,a,0);const l=e.viewQuery;if(null!==l&&Rd(2,l,r),o){const u=e.viewCheckHooks;null!==u&&pa(n,u)}else{const u=e.viewHooks;null!==u&&ga(n,u,2),_c(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[U]&=-73,em(n)}finally{vc()}}}function Ov(e,n){for(let t=Jm(e);null!==t;t=Xm(t))for(let r=Fe;r<t.length;r++)Pv(t[r],n)}function QA(e,n,t){Pv(pt(n,e),t)}function Pv(e,n){if(!function dI(e){return 128==(128&e[U])}(e))return;const t=e[C],r=e[U];if(80&r&&0===n||1024&r||2===n)Nv(t,e,t.template,e[_e]);else if(e[ps]>0){Ov(e,1);const i=t.components;null!==i&&kv(e,i,1)}}function kv(e,n,t){for(let r=0;r<n.length;r++)QA(e,n[r],t)}class Gs{get rootNodes(){const n=this._lView,t=n[C];return qs(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_e]}set context(n){this._lView[_e]=n}get destroyed(){return 256==(256&this._lView[U])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[he];if(Ze(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Pa(n,r),Da(t,r))}this._attachedToViewContainer=!1}jc(this._lView[C],this._lView)}onDestroy(n){!function nm(e,n){if(256==(256&e[U]))throw new w(911,!1);null===e[Hn]&&(e[Hn]=[]),e[Hn].push(n)}(this._lView,n)}markForCheck(){Hs(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){this._lView[U]|=128}detectChanges(){rl(this._lView[C],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $T(e,n){xs(e,n,n[$],2,null,null)}(this._lView[C],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=n}}class ZA extends Gs{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;rl(n[C],n,n[_e],!1)}checkNoChanges(){}get context(){return null}}class xv extends Qa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=G(n);return new Ws(t,this.ngModule)}}function Fv(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class JA{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ra(r);const i=this.injector.get(n,pd,r);return i!==pd||t===pd?i:this.parentInjector.get(n,t,r)}}class Ws extends Vy{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=Fv(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Fv(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function jS(e){return e.map(LS).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Mt?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new JA(n,s):n,a=o.get(Vs,null);if(null===a)throw new w(407,!1);const d={rendererFactory:a,sanitizer:o.get(KM,null),effectManager:o.get(Av,null),afterRenderEventManager:o.get(Dd,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function DA(e,n,t,r){const s=r.get(sv,!1)||t===St.ShadowDom,o=e.selectRootElement(n,s);return function bA(e){yv(e)}(o),o}(f,r,this.componentDef.encapsulation,o):Oa(f,h,function YA(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=dd(p,o,!0));const b=Id(0,null,null,1,0,null,null,null,null,null,null),E=el(null,b,null,_,null,null,d,f,o,null,y);let O,ie;yc(E);try{const fe=this.componentDef;let Ge,Dt=null;fe.findHostDirectiveDefs?(Ge=[],Dt=new Map,fe.findHostDirectiveDefs(fe,Ge,Dt),Ge.push(fe)):Ge=[fe];const Yt=function eR(e,n){const t=e[C],r=z;return e[r]=n,bi(t,r,2,"#host",null)}(E,p),Iu=function tR(e,n,t,r,i,s,o){const a=i[C];!function nR(e,n,t,r){for(const i of e)n.mergedAttrs=hs(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(nl(n,n.mergedAttrs,!0),null!==t&&py(r,t,n))}(r,e,n,o);let l=null;null!==n&&(l=dd(n,i[Vn]));const u=s.rendererFactory.createRenderer(n,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=el(i,mv(t),null,c,i[e.index],e,s,u,null,null,l);return a.firstCreatePass&&Md(a,e,r.length-1),tl(i,d),i[e.index]=d}(Yt,p,fe,Ge,E,d,f);ie=Jg(b,z),p&&function iR(e,n,t,r){if(r)tc(e,t,["ng-version",QM.full]);else{const{attrs:i,classes:s}=function $S(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&tc(e,t,i),s&&s.length>0&&hy(e,t,s.join(" "))}}(f,fe,p,r),void 0!==t&&function sR(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(ie,this.ngContentSelectors,t),O=function rR(e,n,t,r,i,s){const o=je(),a=i[C],l=at(o,i);wv(a,i,o,t,null,r);for(let c=0;c<t.length;c++)Ue(yr(i,a,o.directiveStart+c,o),i);Dv(a,i,o),l&&Ue(l,i);const u=yr(i,a,o.directiveStart+o.componentOffset,o);if(e[_e]=i[_e]=u,null!==s)for(const c of s)c(u,n);return Ed(a,o,e),u}(Iu,fe,Ge,Dt,E,[oR]),Od(b,E,null)}finally{vc()}return new XA(this.componentType,O,_i(ie,E),E,ie)}}class XA extends VM{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ZA(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;Nd(s[C],s,i,n,t),this.previousInputValues.set(n,t),Hs(pt(this._tNode.index,s))}}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function oR(){const e=je();ha(D()[C],e)}function sl(e){return!!function Pd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ve(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function cn(e,n,t,r,i,s,o,a){const l=D(),u=W(),c=e+z,d=u.firstCreatePass?function xR(e,n,t,r,i,s,o,a,l){const u=n.consts,c=bi(n,e,4,o||null,qn(u,a));Td(n,t,c,qn(u,l)),ha(n,c);const d=c.tView=Id(2,c,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,s,o):u.data[c];on(d,!1);const f=t_(u,l,d,e);fa()&&xa(u,l,f,d),Ue(f,l),tl(l,l[c]=Ev(f,l,f,d)),la(d)&&Cd(u,l,d),null!=o&&Sd(l,d,a)}let t_=function n_(e,n,t,r){return Gn(!0),n[$].createComment("")};function Vt(e,n,t){const r=D();return Ve(r,Xr(),n)&&function yt(e,n,t,r,i,s,o,a){const l=at(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(Nd(e,t,c,r,i),hr(n)&&function AA(e,n){const t=pt(n,e);16&t[U]||(t[U]|=64)}(t,n.index)):3&n.type&&(r=function MA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(l,r,i))}(W(),function pe(){const e=x.lFrame;return Jg(e.tView,e.selectedIndex)}(),r,e,n,r[$],t,!1),Vt}function Bd(e,n,t,r,i){const o=i?"class":"style";Nd(e,t,n.inputs[o],o,r)}function Se(e,n,t,r){const i=D(),s=W(),o=z+e,a=i[$],l=s.firstCreatePass?function BR(e,n,t,r,i,s){const o=n.consts,l=bi(n,e,2,r,qn(o,i));return Td(n,t,l,qn(o,s)),null!==l.attrs&&nl(l,l.attrs,!1),null!==l.mergedAttrs&&nl(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,i,n,t,r):s.data[o],u=r_(s,i,l,a,n,e);i[o]=u;const c=la(l);return on(l,!0),py(a,u,l),32!=(32&l.flags)&&fa()&&xa(s,i,u,l),0===function gI(){return x.lFrame.elementDepthCount}()&&Ue(u,i),function mI(){x.lFrame.elementDepthCount++}(),c&&(Cd(s,i,l),Ed(s,l,i)),null!==r&&Sd(i,l),Se}function Ie(){let e=je();fc()?function hc(){x.lFrame.isParent=!1}():(e=e.parent,on(e,!1));const n=e;(function vI(e){return x.skipHydrationRootTNode===e})(n)&&function bI(){x.skipHydrationRootTNode=null}(),function yI(){x.lFrame.elementDepthCount--}();const t=W();return t.firstCreatePass&&(ha(t,e),rc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function LI(e){return 0!=(8&e.flags)}(n)&&Bd(t,n,D(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function jI(e){return 0!=(16&e.flags)}(n)&&Bd(t,n,D(),n.stylesWithoutHost,!1),Ie}function Zn(e,n,t,r){return Se(e,n,t,r),Ie(),Zn}let r_=(e,n,t,r,i,s)=>(Gn(!0),Oa(r,i,function gm(){return x.lFrame.currentNamespace}()));function Hd(){return D()}function cl(e){return!!e&&"function"==typeof e.then}function o_(e){return!!e&&"function"==typeof e.subscribe}function Yn(e,n,t,r){const i=D(),s=W(),o=je();return function l_(e,n,t,r,i,s,o){const a=la(r),u=e.firstCreatePass&&function Iv(e){return e.cleanup||(e.cleanup=[])}(e),c=n[_e],d=function Sv(e){return e[qr]||(e[qr]=[])}(n);let f=!0;if(3&r.type||o){const g=at(r,n),m=o?o(g):g,_=d.length,y=o?E=>o(le(E[r.index])):r.index;let b=null;if(!o&&a&&(b=function GR(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[qr],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,f=!1;else{s=c_(r,n,c,s,!1);const E=t.listen(m,i,s);d.push(s,E),u&&u.push(i,y,_,_+1)}}else s=c_(r,n,c,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const O=n[p[m]][p[m+1]].subscribe(s),ie=d.length;d.push(s,O),u&&u.push(i,r.index,ie,-(ie+1))}}}(s,i,i[$],o,e,n,r),Yn}function u_(e,n,t,r){try{return sn(6,n,t),!1!==t(r)}catch(i){return Mv(e,i),!1}finally{sn(7,n,t)}}function c_(e,n,t,r,i){return function s(o){if(o===Function)return r;Hs(e.componentOffset>-1?pt(e.index,n):n);let l=u_(n,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=u_(n,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function He(e=1){return function MI(e){return(x.lFrame.contextLView=function AI(e,n){for(;e>0;)n=n[Wr],e--;return n}(e,x.lFrame.contextLView))[_e]}(e)}function dl(e,n){return e<<17|n<<2}function Jn(e){return e>>17&32767}function qd(e){return 2|e}function Dr(e){return(131068&e)>>2}function Gd(e,n){return-131069&e|n<<2}function Wd(e){return 1|e}function w_(e,n,t,r,i){const s=e[t+1],o=null===n;let a=r?Jn(s):Dr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];tN(e[a],n)&&(l=!0,e[a+1]=r?Wd(c):qd(c)),a=r?Jn(c):Dr(c)}l&&(e[t+1]=r?qd(s):Wd(s))}function tN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ai(e,n)>=0}function Js(e,n,t){return Ht(e,n,t,!1),Js}function Kd(e,n){return Ht(e,n,null,!0),Kd}function Ht(e,n,t,r){const i=D(),s=W(),o=function Cn(e){const n=x.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);s.firstUpdatePass&&function M_(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[Je()],o=function T_(e,n){return n>=e.expandoStartIndex}(e,t);(function O_(e,n){return 0!=(e.flags&(n?8:16))})(s,r)&&null===n&&!o&&(n=!1),n=function cN(e,n,t,r){const i=function gc(e){const n=x.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Xs(t=Qd(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=Qd(i,e,n,t,r),null===s){let l=function dN(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Dr(r))return e[Jn(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=Qd(null,e,n,l[1],r),l=Xs(l,n.attrs,r),function fN(e,n,t,r){e[Jn(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else s=function hN(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Xs(r,e[s].hostAttrs,t);return Xs(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function XR(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,a=Jn(o),l=Dr(o);e[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||ai(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const f=Jn(e[a+1]);e[r+1]=dl(f,a),0!==f&&(e[f+1]=Gd(e[f+1],r)),e[a+1]=function YR(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=dl(a,0),0!==a&&(e[a+1]=Gd(e[a+1],r)),a=r;else e[r+1]=dl(l,0),0===a?a=r:e[l+1]=Gd(e[l+1],r),l=r;u&&(e[r+1]=qd(e[r+1])),w_(e,c,r,!0),w_(e,c,r,!1),function eN(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&ai(s,n)>=0&&(t[r+1]=Wd(t[r+1]))}(n,c,e,r,s),o=dl(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}(s,e,o,r),n!==B&&Ve(i,o,n)&&function R_(e,n,t,r,i,s,o,a){if(!(3&n.type))return;const l=e.data,u=l[a+1],c=function JR(e){return 1==(1&e)}(u)?N_(l,n,t,i,Dr(u),o):void 0;fl(c)||(fl(s)||function ZR(e){return 2==(2&e)}(u)&&(s=N_(l,null,t,i,a,o)),function QT(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Wn.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Wn.Important),e.setStyle(t,r,i,s))}}(r,o,da(Je(),t),i,s))}(s,s.data[Je()],i,i[$],e,i[o+1]=function yN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Me(function Kn(e){return e instanceof vy?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(n,t),r,o)}function Qd(e,n,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],r=Xs(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Xs(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gt(e,o,!!t||n[++s]))}return void 0===e?null:e}function N_(e,n,t,r,i,s){const o=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===B&&(f=d?Z:void 0);let h=d?Tc(f,r):c===r?f:void 0;if(u&&!fl(h)&&(h=Tc(l,r)),fl(h)&&(a=h,o))return a;const p=e[i+1];i=o?Jn(p):Dr(p)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=Tc(l,r))}return a}function fl(e){return void 0!==e}function br(e,n=""){const t=D(),r=W(),i=e+z,s=r.firstCreatePass?bi(r,i,1,n,null):r.data[i],o=P_(r,t,s,n,e);t[i]=o,fa()&&xa(r,t,o,s),on(s,!1)}let P_=(e,n,t,r,i)=>(Gn(!0),function Na(e,n){return e.createText(n)}(n[$],r));function hl(e){return pl("",e,""),hl}function pl(e,n,t){const r=D(),i=function Ci(e,n,t,r){return Ve(e,Xr(),t)?n+j(t)+r:B}(r,e,n,t);return i!==B&&function Mn(e,n,t){const r=da(n,e);!function ty(e,n,t){e.setValue(n,t)}(e[$],r,t)}(r,Je(),i),pl}const ki="en-US";let tw=ki;class Cr{}class Tw{}class nf extends Cr{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xv(this);const i=ht(n);this._bootstrapComponents=Tn(i.bootstrap),this._r3Injector=Ky(n,t,[{provide:Cr,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver},...r],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rf extends Tw{constructor(n){super(),this.moduleType=n}create(n){return new nf(this.moduleType,n,[])}}class Mw extends Cr{constructor(n){super(),this.componentFactoryResolver=new xv(this),this.instance=null;const t=new pi([...n.providers,{provide:Cr,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],n.parent||Va(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function sf(e,n,t=null){return new Mw({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let VO=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Ny(0,t.type),i=r.length>0?sf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(T(Mt))})}return e})();function Aw(e){e.getStandaloneInjector=n=>n.get(VO).getOrCreateStandaloneInjector(e)}function mP(e,n,t,r=!0){const i=n[C];if(function UT(e,n,t,r){const i=Fe+r,s=t.length;r>0&&(t[i-1][Bt]=n),r<s-Fe?(n[Bt]=t[i],Nm(t,Fe+r,n)):(t.push(n),n[Bt]=null),n[he]=t;const o=n[ms];null!==o&&t!==o&&function VT(e,n){const t=e[Qr];n[we]!==n[he][he][we]&&(e[Rg]=!0),null===t?e[Qr]=[n]:t.push(n)}(o,n);const a=n[nn];null!==a&&a.insertView(e),n[U]|=128}(i,n,e,t),r){const s=Vc(t,e),o=n[$],a=ka(o,e[rn]);null!==a&&function jT(e,n,t,r,i,s){r[me]=i,r[Be]=n,xs(e,r,t,1,i,s)}(i,e[Be],o,n,a,s)}}Symbol;let An=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_P}return e})();const yP=An,vP=class extends yP{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function gP(e,n,t,r){const i=n.tView,a=el(e,i,t,4096&e[U]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ms]=e[n.index];const u=e[nn];return null!==u&&(a[nn]=u.createEmbeddedView(i)),Od(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new Gs(i)}};function _P(){return function _l(e,n){return 4&e.type?new vP(n,e,_i(e,n)):null}(je(),D())}let qt=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SP}return e})();function SP(){return function Ww(e,n){let t;const r=n[e.index];return Ze(r)?t=r:(t=Ev(r,n,null,e),n[e.index]=t,tl(n,t)),Kw(t,n,e,r),new qw(t,e,n)}(je(),D())}const IP=qt,qw=class extends IP{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return _i(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const n=va(this._hostTNode,this._hostLView);if(Dc(n)){const t=Ts(n,this._hostLView),r=Is(n);return new Xe(t[C].data[r+8],t)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Gw(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,s){const o=n&&!function As(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?n:new Ws(G(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?u:this.parentInjector).get(Mt,null);m&&(s=m)}G(l.componentType??{});const h=l.create(u,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function fI(e){return Ze(e[he])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const u=i[he],c=new qw(u,u[Be],u[he]);c.detach(c.indexOf(n))}}const o=this._adjustIndex(t),a=this._lContainer;return mP(a,i,o,!r),n.attachToViewContainerRef(),Nm(uf(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Gw(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Pa(this._lContainer,t);r&&(Da(uf(this._lContainer),t),jc(r[C],r))}detach(n){const t=this._adjustIndex(n,-1),r=Pa(this._lContainer,t);return r&&null!=Da(uf(this._lContainer),t)?new Gs(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Gw(e){return e[8]}function uf(e){return e[8]||(e[8]=[])}let Kw=function Qw(e,n,t,r){if(e[rn])return;let i;i=8&t.type?le(r):function TP(e,n){const t=e[$],r=t.createComment(""),i=at(n,e);return vr(t,ka(t,i),r,function GT(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[rn]=i};const wf=new A("Application Initializer");let Df=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=S(wf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(cl(s))t.push(s);else if(o_(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wD=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Rn=new A("LocaleId",{providedIn:"root",factory:()=>S(Rn,H.Optional|H.SkipSelf)||function ik(){return typeof $localize<"u"&&$localize.locale||ki}()});let DD=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class ak{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let bD=(()=>{class e{compileModuleSync(t){return new rf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Tn(ht(t).declarations).reduce((o,a)=>{const l=G(a);return l&&o.push(new Ws(l)),o},[]);return new ak(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ID=new A(""),El=new A("");let If,Cf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,If||(function Ak(e){If=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(T(re),T(Sf),T(El))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Sf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return If?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Xn=null;const TD=new A("AllowMultipleToken"),Tf=new A("PlatformDestroyListeners"),Mf=new A("appBootstrapListener");class AD{constructor(n,t){this.name=n,this.token=t}}function ND(e,n,t=[]){const r=`Platform: ${n}`,i=new A(r);return(s=[])=>{let o=Af();if(!o||o.injector.get(TD,!1)){const a=[...t,...s,{provide:i,useValue:!0}];e?e(a):function Ok(e){if(Xn&&!Xn.get(TD,!1))throw new w(400,!1);(function MD(){!function YS(e){Vg=e}(()=>{throw new w(600,!1)})})(),Xn=e;const n=e.get(PD);(function RD(e){e.get(Fy,null)?.forEach(t=>t())})(e)}(function OD(e=[],n){return At.create({name:n,providers:[{provide:ed,useValue:"platform"},{provide:Tf,useValue:new Set([()=>Xn=null])},...e]})}(a,r))}return function kk(e){const n=Af();if(!n)throw new w(401,!1);return n}()}}function Af(){return Xn?.get(PD)??null}let PD=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function xk(e="zone.js",n){return"noop"===e?new aA:"zone.js"===e?new re(n):e}(r?.ngZone,function kD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function UO(e,n,t){return new nf(e,n,t)}(t.moduleType,this.injector,function $D(e){return[{provide:re,useFactory:e},{provide:$s,multi:!0,useFactory:()=>{const n=S(Lk,{optional:!0});return()=>n.initialize()}},{provide:jD,useFactory:Fk},{provide:Xy,useFactory:ev}]}(()=>i)),o=s.injector.get(In,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Cl(this._modules,s),a.unsubscribe()})}),function xD(e,n,t){try{const r=t();return cl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Df);return a.runInitializers(),a.donePromise.then(()=>(function nw(e){Ct(e,"Expected localeId to be defined"),"string"==typeof e&&(tw=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Rn,ki)||ki),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=FD({},r);return function Rk(e,n,t){const r=new rf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Sr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new w(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Tf,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(T(At))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function FD(e,n){return Array.isArray(n)?n.reduce(FD,e):{...e,...n}}let Sr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(jD),this.zoneIsStable=S(Xy),this.componentTypes=[],this.components=[],this.isStable=S(DD).hasPendingTasks.pipe(en(t=>t?L(!1):this.zoneIsStable),function uS(e,n=jn){return e=e??cS,Ee((t,r)=>{let i,s=!0;t.subscribe(Ce(r,o=>{const a=n(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),sg()),this._injector=S(Mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Vy;if(!this._injector.get(Df).done)throw!i&&function zr(e){const n=G(e)||xe(e)||Qe(e);return null!==n&&n.standalone}(t),new w(405,!1);let o;o=i?t:this._injector.get(Qa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Nk(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Cr),u=o.create(At.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(ID,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Cl(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Cl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Mf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cl(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const jD=new A("",{providedIn:"root",factory:()=>S(In).handleError.bind(void 0)});function Fk(){const e=S(re),n=S(In);return t=>e.runOutsideAngular(()=>n.handleError(t))}let Lk=(()=>{class e{constructor(){this.zone=S(re),this.applicationRef=S(Sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Rf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$k}return e})();function $k(e){return function Bk(e,n,t){if(hr(e)&&!t){const r=pt(e.index,n);return new Gs(r,r)}return 47&e.type?new Gs(n[we],n):null}(je(),D(),16==(16&e))}class HD{constructor(){}supports(n){return sl(n)}create(n){return new Gk(n)}}const qk=(e,n)=>n;class Gk{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qk}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<qD(r,i,s)?t:r,a=qD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;c<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!sl(n))throw new w(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function yR(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new Wk(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new zD),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Wk{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kk{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class zD{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new Kk,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qD(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function WD(){return new Tl([new HD])}let Tl=(()=>{class e{static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:WD});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||WD()),deps:[[e,new Ca,new Ea]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new w(901,!1)}}return e})();const Xk=ND(null,"core",[]);let ex=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(T(Sr))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({})}return e})(),Lf=null;function Li(){return Lf}class px{}const dt=new A("DocumentToken");let jf=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(mx)},providedIn:"platform"})}return e})();const gx=new A("Location Initialized");let mx=(()=>{class e extends jf{constructor(){super(),this._doc=S(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Li().getBaseHref(this._doc)}onPopState(t){const r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function $f(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function rb(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Nn(e){return e&&"?"!==e[0]?"?"+e:e}let Tr=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(sb)},providedIn:"root"})}return e})();const ib=new A("appBaseHref");let sb=(()=>{class e extends Tr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $f(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Nn(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Nn(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(T(jf),T(ib,8))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yx=(()=>{class e extends Tr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$f(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Nn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Nn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(T(jf),T(ib,8))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Bf=(()=>{class e{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function wx(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(rb(ob(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nn(r))}normalize(t){return e.stripTrailingSlash(function _x(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,ob(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Nn;static#t=this.joinWithSlash=$f;static#n=this.stripTrailingSlash=rb;static#r=this.\u0275fac=function(r){return new(r||e)(T(Tr))};static#i=this.\u0275prov=R({token:e,factory:function(){return function vx(){return new Bf(T(Tr))}()},providedIn:"root"})}return e})();function ob(e){return e.replace(/\/index.html$/,"")}class a1{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yf=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new a1(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),yb(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{yb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(M(qt),M(An),M(Tl))};static#t=this.\u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function yb(e,n){e.context.$implicit=n.item}let Jf=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new l1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(M(qt),M(An))};static#t=this.\u0275dir=Ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class l1{constructor(){this.$implicit=null,this.ngIf=null}}function vb(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Me(n)}'.`)}let P1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({})}return e})();function bb(e){return"server"===e}let L1=(()=>{class e{static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new j1(T(dt),window)})}return e})();class j1{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function $1(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class uF extends px{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sh extends uF{static makeCurrent(){!function hx(e){Lf||(Lf=e)}(new sh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function cF(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}();return null==t?null:function dF(e){Ul=Ul||document.createElement("a"),Ul.setAttribute("href",e);const n=Ul.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function i1(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Ul,po=null,hF=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const oh=new A("EventManagerPlugins");let Tb=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(T(oh),T(re))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class Mb{constructor(n){this._doc=n}}const ah="ng-app-id";let Ab=(()=>{class e{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bb(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ah}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ah),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ah,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(T(dt),T(Ha),T(jy,8),T(mi))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uh=/%COMP%/g,yF=new A("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nb(e,n){return n.map(t=>t.replace(uh,e))}let ch=(()=>{class e{constructor(t,r,i,s,o,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=bb(a),this.defaultRenderer=new dh(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===St.ShadowDom&&(r={...r,encapsulation:St.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Pb?i.applyToHost(t):i instanceof fh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case St.Emulated:s=new Pb(l,u,r,this.appId,c,o,a,d);break;case St.ShadowDom:return new DF(l,u,t,r,o,a,this.nonce,d);default:s=new fh(l,u,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(T(Tb),T(Ab),T(Ha),T(yF),T(dt),T(mi),T(re),T(jy))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class dh{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(lh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Ob(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Ob(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new w(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=lh[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=lh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Wn.DashCase|Wn.Important)?n.style.setProperty(t,r,i&Wn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Wn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Li().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Ob(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class DF extends dh{constructor(n,t,r,i,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Nb(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fh extends dh{constructor(n,t,r,i,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Nb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pb extends fh{constructor(n,t,r,i,s,o,a,l){const u=i+"-"+r.id;super(n,t,r,s,o,a,l,u),this.contentAttr=function vF(e){return"_ngcontent-%COMP%".replace(uh,e)}(u),this.hostAttr=function _F(e){return"_nghost-%COMP%".replace(uh,e)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let bF=(()=>{class e extends Mb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(T(dt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const kb=["alt","control","meta","shift"],EF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let SF=(()=>{class e extends Mb{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kb.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=EF[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kb.forEach(o=>{o!==i&&(0,CF[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(T(dt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const AF=ND(Xk,"browser",[{provide:mi,useValue:"browser"},{provide:Fy,useValue:function IF(){sh.makeCurrent()},multi:!0},{provide:dt,useFactory:function MF(){return function eM(e){qc=e}(document),document},deps:[]}]),RF=new A(""),Lb=[{provide:El,useClass:class fF{addToWindow(n){ae.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},ae.getAllAngularTestabilities=()=>n.getAllTestabilities(),ae.getAllAngularRootElements=()=>n.getAllRootElements(),ae.frameworkStabilizers||(ae.frameworkStabilizers=[]),ae.frameworkStabilizers.push(r=>{const i=ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Li().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:ID,useClass:Cf,deps:[re,Sf,El]},{provide:Cf,useClass:Cf,deps:[re,Sf,El]}],jb=[{provide:ed,useValue:"root"},{provide:In,useFactory:function TF(){return new In},deps:[]},{provide:oh,useClass:bF,multi:!0,deps:[dt,re,mi]},{provide:oh,useClass:SF,multi:!0,deps:[dt]},ch,Ab,Tb,{provide:Vs,useExisting:ch},{provide:class B1{},useClass:hF,deps:[]},[]];let $b=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ha,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(RF,12))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({providers:[...jb,...Lb],imports:[P1,ex]})}return e})(),Bb=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(T(dt))};static#t=this.\u0275prov=R({token:e,factory:function(r){let i=null;return i=r?new r:function OF(){return new Bb(T(dt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:jF}=Array,{getPrototypeOf:$F,prototype:BF,keys:UF}=Object;const{isArray:zF}=Array;function ph(...e){const n=us(e),t=function eS(e){return ee(ju(e))?e.pop():void 0}(e),{args:r,keys:i}=function VF(e){if(1===e.length){const n=e[0];if(jF(n))return{args:n,keys:null};if(function HF(e){return e&&"object"==typeof e&&$F(e)===BF}(n)){const t=UF(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return ke([],n);const s=new be(function KF(e,n,t=jn){return r=>{zb(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)zb(n,()=>{const u=ke(e[l],n);let c=!1;u.subscribe(Ce(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>function WF(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,o):jn));return t?s.pipe(function GF(e){return oe(n=>function qF(e,n){return zF(n)?e(...n):e(n)}(e,n))}(t)):s}function zb(e,n,t){e?vn(t,e,n):n()}const Vl=Jt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function gh(...e){return function QF(){return Vr(1)}()(ke(e,us(e)))}function qb(e){return new be(n=>{Et(e()).subscribe(n)})}function go(e,n){const t=ee(e)?e:()=>e,r=i=>i.error(t());return new be(n?i=>n.schedule(r,0,i):r)}function mh(){return Ee((e,n)=>{let t=null;e._refCount++;const r=Ce(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Gb extends be{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bp(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $e;const t=this.getSubject();n.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$e.EMPTY)}return n}refCount(){return mh()(this)}}function $i(e){return e<=0?()=>Xt:Ee((n,t)=>{let r=0;n.subscribe(Ce(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function tr(e,n){return Ee((t,r)=>{let i=0;t.subscribe(Ce(r,s=>e.call(n,s,i++)&&r.next(s)))})}function Hl(e){return Ee((n,t)=>{let r=!1;n.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Wb(e=YF){return Ee((n,t)=>{let r=!1;n.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function YF(){return new Vl}function Mr(e,n){const t=arguments.length>=2;return r=>r.pipe(e?tr((i,s)=>e(i,s,r)):jn,$i(1),t?Hl(n):Wb(()=>new Vl))}function mo(e,n){return ee(n)?Pe(e,n,1):Pe(e,1)}function ze(e,n,t){const r=ee(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ee((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ce(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):jn}function Ar(e){return Ee((n,t)=>{let s,r=null,i=!1;r=n.subscribe(Ce(t,void 0,void 0,o=>{s=Et(e(o,Ar(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function yh(e){return e<=0?()=>Xt:Ee((n,t)=>{let r=[];n.subscribe(Ce(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vh(e){return Ee((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const V="primary",yo=Symbol("RouteTitle");class rL{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bi(e){return new rL(e)}function iL(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function hn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Kb(e[i],n[i]))return!1;return!0}function Kb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function Qb(e){return e.length>0?e[e.length-1]:null}function nr(e){return function LF(e){return!!e&&(e instanceof be||ee(e.lift)&&ee(e.subscribe))}(e)?e:cl(e)?ke(Promise.resolve(e)):L(e)}const oL={exact:function Jb(e,n,t){if(!Rr(e.segments,n.segments)||!zl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!Jb(e.children[r],n.children[r],t))return!1;return!0},subset:Xb},Zb={exact:function aL(e,n){return hn(e,n)},subset:function lL(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Kb(e[t],n[t]))},ignored:()=>!0};function Yb(e,n,t){return oL[t.paths](e.root,n.root,t.matrixParams)&&Zb[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function Xb(e,n,t){return eE(e,n,n.segments,t)}function eE(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Rr(i,t)||n.hasChildren()||!zl(i,t,r))}if(e.segments.length===t.length){if(!Rr(e.segments,t)||!zl(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!Xb(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Rr(e.segments,i)&&zl(e.segments,i,r)&&e.children[V])&&eE(e.children[V],n,s,r)}}function zl(e,n,t){return n.every((r,i)=>Zb[t](e[i].parameters,r.parameters))}class Ui{constructor(n=new ne([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return dL.serialize(this)}}class ne{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ql(this)}}class vo{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bi(this.parameters)),this._parameterMap}toString(){return rE(this)}}function Rr(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let _o=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return new _h},providedIn:"root"})}return e})();class _h{parse(n){const t=new bL(n);return new Ui(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${wo(n.root,!0)}`,r=function pL(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Gl(t)}=${Gl(i)}`).join("&"):`${Gl(t)}=${Gl(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function fL(e){return encodeURI(e)}(n.fragment)}`:""}`}}const dL=new _h;function ql(e){return e.segments.map(n=>rE(n)).join("/")}function wo(e,n){if(!e.hasChildren())return ql(e);if(n){const t=e.children[V]?wo(e.children[V],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==V&&r.push(`${i}:${wo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cL(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===V&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==V&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===V?[wo(e.children[V],!1)]:[`${i}:${wo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[V]?`${ql(e)}/${t[0]}`:`${ql(e)}/(${t.join("//")})`}}function tE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gl(e){return tE(e).replace(/%3B/gi,";")}function wh(e){return tE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wl(e){return decodeURIComponent(e)}function nE(e){return Wl(e.replace(/\+/g,"%20"))}function rE(e){return`${wh(e.path)}${function hL(e){return Object.keys(e).map(n=>`;${wh(n)}=${wh(e[n])}`).join("")}(e.parameters)}`}const gL=/^[^\/()?;#]+/;function Dh(e){const n=e.match(gL);return n?n[0]:""}const mL=/^[^\/()?;=#]+/,vL=/^[^=?&#]+/,wL=/^[^&#]+/;class bL{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[V]=new ne(n,t)),r}parseSegment(){const n=Dh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(n),new vo(Wl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function yL(e){const n=e.match(mL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dh(this.remaining);i&&(r=i,this.capture(r))}n[Wl(t)]=Wl(r)}parseQueryParam(n){const t=function _L(e){const n=e.match(vL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function DL(e){const n=e.match(wL);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=nE(t),s=nE(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=V);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[V]:new ne([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new w(4011,!1)}}function iE(e){return e.segments.length>0?new ne([],{[V]:e}):e}function sE(e){const n={};for(const r of Object.keys(e.children)){const s=sE(e.children[r]);if(r===V&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function EL(e){if(1===e.numberOfChildren&&e.children[V]){const n=e.children[V];return new ne(e.segments.concat(n.segments),n.children)}return e}(new ne(e.segments,n))}function Nr(e){return e instanceof Ui}function oE(e){let n;const i=iE(function t(s){const o={};for(const l of s.children){const u=t(l);o[l.outlet]=u}const a=new ne(s.url,o);return s===e&&(n=a),a}(e.root));return n??i}function aE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return bh(i,i,i,t,r);const s=function SL(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new uE(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new uE(t,n,r)}(n);if(s.toRoot())return bh(i,i,new ne([],{}),t,r);const o=function IL(e,n,t){if(e.isAbsolute)return new Ql(n,!0,0);if(!t)return new Ql(n,!1,NaN);if(null===t.parent)return new Ql(t,!0,0);const r=Kl(e.commands[0])?0:1;return function TL(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Ql(r,!1,i-s)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?bo(o.segmentGroup,o.index,s.commands):cE(o.segmentGroup,o.index,s.commands);return bh(i,o.segmentGroup,a,t,r)}function Kl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Do(e){return"object"==typeof e&&null!=e&&e.outlets}function bh(e,n,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=e===n?t:lE(e,n,t);const a=iE(sE(o));return new Ui(a,s,i)}function lE(e,n,t){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===n?t:lE(s,n,t)}),new ne(e.segments,r)}class uE{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Kl(r[0]))throw new w(4003,!1);const i=r.find(Do);if(i&&i!==Qb(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function cE(e,n,t){if(e||(e=new ne([],{})),0===e.segments.length&&e.hasChildren())return bo(e,n,t);const r=function AL(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(Do(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!fE(l,u,o))return s;r+=2}else{if(!fE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new ne(e.segments.slice(0,r.pathIndex),{});return s.children[V]=new ne(e.segments.slice(r.pathIndex),e.children),bo(s,0,i)}return r.match&&0===i.length?new ne(e.segments,{}):r.match&&!e.hasChildren()?Eh(e,n,t):r.match?bo(e,0,i):Eh(e,n,t)}function bo(e,n,t){if(0===t.length)return new ne(e.segments,{});{const r=function ML(e){return Do(e[0])?e[0].outlets:{[V]:e}}(t),i={};if(Object.keys(r).some(s=>s!==V)&&e.children[V]&&1===e.numberOfChildren&&0===e.children[V].segments.length){const s=bo(e.children[V],n,t);return new ne(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=cE(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ne(e.segments,i)}}function Eh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(Do(s)){const l=RL(s.outlets);return new ne(r,l)}if(0===i&&Kl(t[0])){r.push(new vo(e.segments[n].path,dE(t[0]))),i++;continue}const o=Do(s)?s.outlets[V]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Kl(a)?(r.push(new vo(o,dE(a))),i+=2):(r.push(new vo(o,{})),i++)}return new ne(r,{})}function RL(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Eh(new ne([],{}),0,r))}),n}function dE(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function fE(e,n,t){return e==t.path&&hn(n,t.parameters)}const Eo="imperative";class pn{constructor(n,t){this.id=n,this.url=t}}class Zl extends pn{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rr extends pn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Co extends pn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vi extends pn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Yl extends pn{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hE extends pn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NL extends pn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OL extends pn{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PL extends pn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kL extends pn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xL{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FL{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LL{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jL{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $L{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BL{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pE{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ch{}class Sh{constructor(n){this.url=n}}class UL{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new So,this.attachRef=null}}let So=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new UL,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class gE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Ih(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Ih(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Th(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Th(n,this._root).map(t=>t.value)}}function Ih(e,n){if(e===n.value)return n;for(const t of n.children){const r=Ih(e,t);if(r)return r}return null}function Th(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Th(e,t);if(r.length)return r.unshift(n),r}return[]}class kn{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hi(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class mE extends gE{constructor(n,t){super(n),this.snapshot=t,Mh(this,n)}toString(){return this.snapshot.toString()}}function yE(e,n){const t=function VL(e,n){const o=new Jl([],{},{},"",{},V,n,null,{});return new _E("",new kn(o,[]))}(0,n),r=new ve([new vo("",{})]),i=new ve({}),s=new ve({}),o=new ve({}),a=new ve(""),l=new zi(r,i,o,a,s,V,n,t.root);return l.snapshot=t.root,new mE(new kn(l,[]),t)}class zi{constructor(n,t,r,i,s,o,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(u=>u[yo]))??L(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(oe(n=>Bi(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(oe(n=>Bi(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vE(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function HL(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Jl{get title(){return this.data?.[yo]}constructor(n,t,r,i,s,o,a,l,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _E extends gE{constructor(n,t){super(t),this.url=n,Mh(this,t)}toString(){return wE(this._root)}}function Mh(e,n){n.value._routerState=e,n.children.forEach(t=>Mh(e,t))}function wE(e){const n=e.children.length>0?` { ${e.children.map(wE).join(", ")} } `:"";return`${e.value}${n}`}function Ah(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,hn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),hn(n.params,t.params)||e.paramsSubject.next(t.params),function sL(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!hn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),hn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Rh(e,n){const t=hn(e.params,n.params)&&function uL(e,n){return Rr(e,n)&&e.every((t,r)=>hn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Rh(e.parent,n.parent))}let DE=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=S(So),this.location=S(qt),this.changeDetector=S(Rf),this.environmentInjector=S(Mt),this.inputBinder=S(Xl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new zL(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]})}return e})();class zL{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===zi?this.route:n===So?this.childContexts:this.parent.get(n,t)}}const Xl=new A("");let bE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ph([r.queryParams,r.params,r.data]).pipe(en(([s,o,a],l)=>(a={...s,...o,...a},0===l?L(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function fx(e){const n=G(e);if(!n)return null;const t=new Ws(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function Io(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function GL(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Io(e,r,i);return Io(e,r)})}(e,n,t);return new kn(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>Io(e,a)),o}}const r=function WL(e){return new zi(new ve(e.url),new ve(e.params),new ve(e.queryParams),new ve(e.fragment),new ve(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>Io(e,s));return new kn(r,i)}}const Nh="ngNavigationCancelingError";function EE(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Nr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=CE(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function CE(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Nh]=!0,r.cancellationCode=n,t&&(r.url=t),r}function SE(e){return e&&e[Nh]}let IE=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=fr({type:e,selectors:[["ng-component"]],standalone:!0,features:[Aw],decls:1,vars:0,template:function(r,i){1&r&&Zn(0,"router-outlet")},dependencies:[DE],encapsulation:2})}return e})();function Oh(e){const n=e.children&&e.children.map(Oh),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==V&&(t.component=IE),t}function Kt(e){return e.outlet||V}function To(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tj{constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Ah(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Hi(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Hi(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Hi(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Hi(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new BL(s.value.snapshot))}),n.children.length&&this.forwardEvent(new jL(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(Ah(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ah(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=To(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class TE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class eu{constructor(n,t){this.component=n,this.route=t}}function nj(e,n,t){const r=e._root;return Mo(r,n?n._root:null,t,[r.value])}function qi(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function yS(e){return null!==Xo(e)}(e)?n.get(e):e:r}function Mo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hi(n);return e.children.forEach(o=>{(function ij(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function sj(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Rr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Rr(e.url,n.url)||!hn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rh(e,n)||!hn(e.queryParams,n.queryParams);default:return!Rh(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new TE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Mo(e,n,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new eu(a.outlet.component,o))}else o&&Ao(n,a,i),i.canActivateChecks.push(new TE(r)),Mo(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ao(a,t.getContext(o),i)),i}function Ao(e,n,t){const r=Hi(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Ao(o,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new eu(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ro(e){return"function"==typeof e}function ME(e){return e instanceof Vl||"EmptyError"===e?.name}const tu=Symbol("INITIAL_VALUE");function Gi(){return en(e=>ph(e.map(n=>n.pipe($i(1),function ZF(...e){const n=us(e);return Ee((t,r)=>{(n?gh(e,t,n):gh(e,t)).subscribe(r)})}(tu)))).pipe(oe(n=>{for(const t of n)if(!0!==t){if(t===tu)return tu;if(!1===t||t instanceof Ui)return t}return!0}),tr(n=>n!==tu),$i(1)))}function AE(e){return function _0(...e){return Lp(e)}(ze(n=>{if(Nr(n))throw EE(0,n)}),oe(n=>!0===n))}class nu{constructor(n){this.segmentGroup=n||null}}class RE{constructor(n){this.urlTree=n}}function Wi(e){return go(new nu(e))}function NE(e){return go(new RE(e))}class Sj{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new w(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[V])return go(new w(4e3,!1));i=i.children[V]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Ui(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(n,l,r,i)}),new ne(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const Ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ij(e,n,t,r,i){const s=kh(e,n,t);return s.matched?(r=function QL(e,n){return e.providers&&!e._injector&&(e._injector=sf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function bj(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?L(i.map(o=>{const a=qi(o,e);return nr(function dj(e){return e&&Ro(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(Gi(),AE()):L(!0)}(r,n,t).pipe(oe(o=>!0===o?s:{...Ph}))):L(s)}function kh(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Ph}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||iL)(t,e,n);if(!i)return{...Ph};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function OE(e,n,t,r){return t.length>0&&function Aj(e,n,t){return t.some(r=>ru(e,n,r)&&Kt(r)!==V)}(e,t,r)?{segmentGroup:new ne(n,Mj(r,new ne(t,e.children))),slicedSegments:[]}:0===t.length&&function Rj(e,n,t){return t.some(r=>ru(e,n,r))}(e,t,r)?{segmentGroup:new ne(e.segments,Tj(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ne(e.segments,e.children),slicedSegments:t}}function Tj(e,n,t,r,i){const s={};for(const o of r)if(ru(e,t,o)&&!i[Kt(o)]){const a=new ne([],{});s[Kt(o)]=a}return{...i,...s}}function Mj(e,n){const t={};t[V]=n;for(const r of e)if(""===r.path&&Kt(r)!==V){const i=new ne([],{});t[Kt(r)]=i}return t}function ru(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class kj{constructor(n,t,r,i,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Sj(this.urlSerializer,this.urlTree)}noMatchError(n){return new w(4002,!1)}recognize(){const n=OE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,V).pipe(Ar(t=>{if(t instanceof RE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof nu?this.noMatchError(t):t}),oe(t=>{const r=new Jl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new kn(r,t),s=new _E("",i),o=function CL(e,n,t=null,r=null){return aE(oE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,V).pipe(Ar(r=>{throw r instanceof nu?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=vE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ke(i).pipe(mo(s=>{const o=r.children[s],a=function XL(e,n){const t=e.filter(r=>Kt(r)===n);return t.push(...e.filter(r=>Kt(r)!==n)),t}(t,s);return this.processSegmentGroup(n,a,o,s)}),function XF(e,n){return Ee(function JF(e,n,t,r,i){return(s,o)=>{let a=t,l=n,u=0;s.subscribe(Ce(o,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Hl(null),function eL(e,n){const t=arguments.length>=2;return r=>r.pipe(e?tr((i,s)=>e(i,s,r)):jn,yh(1),t?Hl(n):Wb(()=>new Vl))}(),Pe(s=>{if(null===s)return Wi(r);const o=PE(s);return function xj(e){e.sort((n,t)=>n.value.outlet===V?-1:t.value.outlet===V?1:n.value.outlet.localeCompare(t.value.outlet))}(o),L(o)}))}processSegment(n,t,r,i,s,o){return ke(t).pipe(mo(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,s,o).pipe(Ar(l=>{if(l instanceof nu)return L(null);throw l}))),Mr(a=>!!a),Ar(a=>{if(ME(a))return function Oj(e,n,t){return 0===n.length&&!e.children[t]}(r,i,s)?L([]):Wi(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,s,o,a){return function Nj(e,n,t,r){return!!(Kt(e)===r||r!==V&&ru(n,t,e))&&("**"===e.path||kh(n,e,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,o):Wi(i):Wi(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NE(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Pe(o=>{const a=new ne(o,{});return this.processSegment(n,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=kh(t,i,s);if(!a)return Wi(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?NE(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Pe(f=>this.processSegment(n,r,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?Qb(i).parameters:{};a=L({snapshot:new Jl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kE(r),Kt(r),r.component??r._loadedComponent??null,r,xE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Ij(t,r,i,n).pipe(oe(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Jl(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kE(r),Kt(r),r.component??r._loadedComponent??null,r,xE(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(en(l=>null===l?Wi(t):this.getChildConfig(n=r._injector??n,r,i).pipe(en(({routes:u})=>{const c=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=OE(t,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(oe(_=>null===_?null:[new kn(d,_)]));if(0===u.length&&0===g.length)return L([new kn(d,[])]);const m=Kt(r)===s;return this.processSegment(c,u,p,g,m?V:s,!0).pipe(oe(_=>[new kn(d,_)]))}))))}getChildConfig(n,t,r){return t.children?L({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?L({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dj(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?L(!0):L(i.map(o=>{const a=qi(o,e);return nr(function aj(e){return e&&Ro(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(Gi(),AE())}(n,t,r).pipe(Pe(i=>i?this.configLoader.loadChildren(n,t).pipe(ze(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Cj(e){return go(CE(!1,3))}())):L({routes:[],injector:n})}}function Fj(e){const n=e.value.routeConfig;return n&&""===n.path}function PE(e){const n=[],t=new Set;for(const r of e){if(!Fj(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=PE(r.children);n.push(new kn(r.value,i))}return n.filter(r=>!t.has(r))}function kE(e){return e.data||{}}function xE(e){return e.resolve||{}}function FE(e){return"string"==typeof e.title||null===e.title}function xh(e){return en(n=>{const t=e(n);return t?ke(t).pipe(oe(()=>n)):L(n)})}const Ki=new A("ROUTES");let Fh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(bD)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=nr(t.loadComponent()).pipe(oe(LE),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),vh(()=>{this.componentLoaders.delete(t)})),i=new Gb(r,()=>new jt).pipe(mh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Hj(e,n,t,r){return nr(e.loadChildren()).pipe(oe(LE),Pe(i=>i instanceof Tw||Array.isArray(i)?L(i):ke(n.compileModuleAsync(i))),oe(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Ki,[],{optional:!0,self:!0}).flat()),{routes:o.map(Oh),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(vh(()=>{this.childrenLoaders.delete(r)})),o=new Gb(s,()=>new jt).pipe(mh());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LE(e){return function zj(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let iu=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt,this.transitionAbortSubject=new jt,this.configLoader=S(Fh),this.environmentInjector=S(Mt),this.urlSerializer=S(_o),this.rootContexts=S(So),this.inputBindingEnabled=null!==S(Xl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new FL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ve({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(s=>0!==s.id),oe(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),en(s=>{this.currentTransition=s;let o=!1,a=!1;return L(s).pipe(ze(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),en(l=>{const u=l.currentBrowserUrl.toString(),c=!t.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),Xt}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return L(l).pipe(en(f=>{const h=this.transitions?.getValue();return this.events.next(new Zl(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Xt:Promise.resolve(f)}),function Lj(e,n,t,r,i,s){return Pe(o=>function Pj(e,n,t,r,i,s,o="emptyOnly"){return new kj(e,n,t,r,i,o,s).recognize()}(e,n,t,r,o.extractedUrl,i,s).pipe(oe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ze(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new hE(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=l,_=new Zl(f,this.urlSerializer.serialize(h),p,g);this.events.next(_);const y=yE(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},L(s)}{const f="";return this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),Xt}}),ze(l=>{const u=new NL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),oe(l=>(this.currentTransition=s={...l,guards:nj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function hj(e,n){return Pe(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?L({...t,guardsResult:!0}):function pj(e,n,t,r){return ke(e).pipe(Pe(i=>function wj(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?L(s.map(a=>{const l=To(n)??i,u=qi(a,l);return nr(function cj(e){return e&&Ro(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):l.runInContext(()=>u(e,n,t,r))).pipe(Mr())})).pipe(Gi()):L(!0)}(i.component,i.route,t,n,r)),Mr(i=>!0!==i,!0))}(o,r,i,e).pipe(Pe(a=>a&&function oj(e){return"boolean"==typeof e}(a)?function gj(e,n,t,r){return ke(n).pipe(mo(i=>gh(function yj(e,n){return null!==e&&n&&n(new LL(e)),L(!0)}(i.route.parent,r),function mj(e,n){return null!==e&&n&&n(new $L(e)),L(!0)}(i.route,r),function _j(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function rj(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>qb(()=>L(o.guards.map(l=>{const u=To(o.node)??t,c=qi(l,u);return nr(function uj(e){return e&&Ro(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(Mr())})).pipe(Gi())));return L(s).pipe(Gi())}(e,i.path,t),function vj(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return L(!0);const i=r.map(s=>qb(()=>{const o=To(n)??t,a=qi(s,o);return nr(function lj(e){return e&&Ro(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(Mr())}));return L(i).pipe(Gi())}(e,i.route,t))),Mr(i=>!0!==i,!0))}(r,s,e,n):L(a)),oe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(s.guardsResult=l.guardsResult,Nr(l.guardsResult))throw EE(0,l.guardsResult);const u=new OL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),tr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),xh(l=>{if(l.guards.canActivateChecks.length)return L(l).pipe(ze(u=>{const c=new PL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),en(u=>{let c=!1;return L(u).pipe(function jj(e,n){return Pe(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L(t);let s=0;return ke(i).pipe(mo(o=>function $j(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!FE(i)&&(s[yo]=i.title),function Bj(e,n,t,r){const i=function Uj(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return L({});const s={};return ke(i).pipe(Pe(o=>function Vj(e,n,t,r){const i=To(n)??r,s=qi(e,i);return nr(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[o],n,t,r).pipe(Mr(),ze(a=>{s[o]=a}))),yh(1),function tL(e){return oe(()=>e)}(s),Ar(o=>ME(o)?Xt:go(o)))}(s,e,n,r).pipe(oe(o=>(e._resolvedData=o,e.data=vE(e,t).resolve,i&&FE(i)&&(e.data[yo]=i.title),null)))}(o.route,r,e,n)),ze(()=>s++),yh(1),Pe(o=>s===i.length?L(t):Xt))})}(t.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),ze(u=>{const c=new kL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),xh(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(ze(f=>{c.component=f}),oe(()=>{})));for(const f of c.children)d.push(...u(f));return d};return ph(u(l.targetSnapshot.root)).pipe(Hl(),$i(1))}),xh(()=>this.afterPreactivation()),oe(l=>{const u=function qL(e,n,t){const r=Io(e,n._root,t?t._root:void 0);return new mE(r,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),ze(()=>{this.events.next(new Ch)}),((e,n,t,r)=>oe(i=>(new tj(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$i(1),ze({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function nL(e){return Ee((n,t)=>{Et(e).subscribe(Ce(t,()=>t.complete(),Mu)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),vh(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ar(l=>{if(a=!0,SE(l))this.events.next(new Co(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function KL(e){return SE(e)&&Nr(e.url)}(l)?this.events.next(new Sh(l.url)):s.resolve(!1);else{this.events.next(new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(u){s.reject(u)}}return Xt}))}))}cancelNavigationTransition(t,r,i){const s=new Co(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jE(e){return e!==Eo}let $E=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===V);return r}getResolvedTitleForRoute(t){return t.data[yo]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(qj)},providedIn:"root"})}return e})(),qj=(()=>{class e extends $E{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Bb))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gj=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(Kj)},providedIn:"root"})}return e})();class Wj{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Kj=(()=>{class e extends Wj{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=function Mm(e){return wn(()=>{const n=e.prototype.constructor,t=n[Dn]||Sc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Dn]||Sc(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const su=new A("",{providedIn:"root",factory:()=>({})});let Qj=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(Zj)},providedIn:"root"})}return e})(),Zj=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var No=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(No||{});function BE(e,n){e.events.pipe(tr(t=>t instanceof rr||t instanceof Co||t instanceof Yl||t instanceof Vi),oe(t=>t instanceof rr||t instanceof Vi?No.COMPLETE:t instanceof Co&&(0===t.code||1===t.code)?No.REDIRECTING:No.FAILED),tr(t=>t!==No.REDIRECTING),$i(1)).subscribe(()=>{n()})}function Yj(e){throw e}function Jj(e,n,t){return n.parse("/")}const Xj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(wD),this.isNgZoneEnabled=!1,this._events=new jt,this.options=S(su,{optional:!0})||{},this.pendingTasks=S(DD),this.errorHandler=this.options.errorHandler||Yj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Jj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(Qj),this.routeReuseStrategy=S(Gj),this.titleStrategy=S($E),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(Ki,{optional:!0})?.flat()??[],this.navigationTransitions=S(iu),this.urlSerializer=S(_o),this.location=S(Bf),this.componentInputBindingEnabled=!!S(Xl,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=S(re)instanceof re&&re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ui,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(UE(r)&&this._events.next(r));if(r instanceof Zl)jE(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Vi)this.rawUrlTree=i.rawUrl;else if(r instanceof hE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Ch)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Co)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Sh){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jE(i.source)};this.scheduleNavigation(s,Eo,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Yl&&this.restoreHistory(i,!0),r instanceof rr&&(this.navigated=!0),UE(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eo,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Oh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=oE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return aE(d,t,c,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Eo,null,r)}navigate(t,r={skipLocationChange:!1}){return function t$(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new w(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Xj}:!1===r?{...e$}:r,Nr(t))return Yb(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Yb(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,l=f});const c=this.pendingTasks.add();return BE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UE(e){return!(e instanceof Ch||e instanceof Sh)}class VE{}let i$=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(tr(t=>t instanceof rr),mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=sf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ke(i).pipe(Vr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):L(null);const s=i.pipe(Pe(o=>null===o?L(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ke([s,this.loader.loadComponent(r)]).pipe(Vr()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(T(Pt),T(bD),T(Mt),T(VE),T(Fh))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jh=new A("");let HE=(()=>{class e{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Vi&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function pv(){throw new Error("invalid")}()};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function xn(e,n){return{\u0275kind:e,\u0275providers:n}}function qE(){const e=S(At);return n=>{const t=e.get(Sr);if(n!==t.components[0])return;const r=e.get(Pt),i=e.get(GE);1===e.get($h)&&r.initialNavigation(),e.get(WE,null,H.Optional)?.setUpPreloading(),e.get(jh,null,H.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const GE=new A("",{factory:()=>new jt}),$h=new A("",{providedIn:"root",factory:()=>1}),WE=new A("");function l$(e){return xn(0,[{provide:WE,useExisting:i$},{provide:VE,useExisting:e}])}const KE=new A("ROUTER_FORROOT_GUARD"),c$=[Bf,{provide:_o,useClass:_h},Pt,So,{provide:zi,useFactory:function zE(e){return e.routerState.root},deps:[Pt]},Fh,[]];function d$(){return new AD("Router",Pt)}let QE=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[c$,[],{provide:Ki,multi:!0,useValue:t},{provide:KE,useFactory:g$,deps:[[Pt,new Ea,new Ca]]},{provide:su,useValue:r||{}},r?.useHash?{provide:Tr,useClass:yx}:{provide:Tr,useClass:sb},{provide:jh,useFactory:()=>{const e=S(L1),n=S(re),t=S(su),r=S(iu),i=S(_o);return t.scrollOffset&&e.setOffset(t.scrollOffset),new HE(i,r,e,n,t)}},r?.preloadingStrategy?l$(r.preloadingStrategy).\u0275providers:[],{provide:AD,multi:!0,useFactory:d$},r?.initialNavigation?m$(r):[],r?.bindToComponentInputs?xn(8,[bE,{provide:Xl,useExisting:bE}]).\u0275providers:[],[{provide:ZE,useFactory:qE},{provide:Mf,multi:!0,useExisting:ZE}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ki,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(KE,8))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({})}return e})();function g$(e){return"guarded"}function m$(e){return["disabled"===e.initialNavigation?xn(3,[{provide:wf,multi:!0,useFactory:()=>{const n=S(Pt);return()=>{n.setUpLocationChangeListener()}}},{provide:$h,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?xn(2,[{provide:$h,useValue:0},{provide:wf,multi:!0,deps:[At],useFactory:n=>{const t=n.get(gx,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Pt),s=n.get(GE);BE(i,()=>{r(!0)}),n.get(iu).afterPreactivation=()=>(r(!0),s.closed?L(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ZE=new A(""),v$=[];let _$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({imports:[QE.forRoot(v$),QE]})}return e})();function YE(e,n,t,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void t(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function o(l){YE(s,r,i,o,a,"next",l)}function a(l){YE(s,r,i,o,a,"throw",l)}o(void 0)})}}class w$ extends $e{constructor(n,t){super()}schedule(n,t=0){return this}}const ou={setInterval(e,n,...t){const{delegate:r}=ou;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=ou;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},JE={now:()=>(JE.delegate||Date).now(),delegate:void 0};class Oo{constructor(n,t=Oo.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Oo.now=JE.now;const XE=new class b$ extends Oo{constructor(n,t=Oo.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class D$ extends w${constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return ou.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&ou.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ur(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),E$=XE;function eC(e=0,n=XE){return e<0&&(e=0),function S$(e=0,n,t=E$){let r=-1;return null!=n&&(tg(n)?t=n:r=n),new be(i=>{let s=function C$(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(e,e,n)}function tC(e,n=!1){return Ee((t,r)=>{let i=0;t.subscribe(Ce(r,s=>{const o=e(s,i++);(o||n)&&r.next(s),!o&&r.complete()}))})}class Bh extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class T$ extends Bh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class M$ extends Bh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class A$ extends Bh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var nC=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(nC||{});class N${constructor(n,{headers:t={},customFetch:r,region:i=nC.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ne.bind(Ne,470)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let u,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):"string"==typeof o?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${n}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(p=>{throw new T$(p)}),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new M$(c);if(!c.ok)throw new A$(c);let h,f=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield c.json():"application/octet-stream"===f?yield c.blob():"multipart/form-data"===f?yield c.formData():yield c.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var Uh=Ne(470);class O$ extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}class P${constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,this.fetch=n.fetch?n.fetch:typeof fetch>"u"?Uh.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var o=v(function*(a){var l,u,c;let d=null,f=null,h=null,p=a.status,g=a.statusText;if(a.ok){if("HEAD"!==r.method){const b=yield a.text();""===b||(f="text/csv"===r.headers.Accept||r.headers.Accept&&r.headers.Accept.includes("application/vnd.pgrst.plan+text")?b:JSON.parse(b))}const _=null===(l=r.headers.Prefer)||void 0===l?void 0:l.match(/count=(exact|planned|estimated)/),y=null===(u=a.headers.get("content-range"))||void 0===u?void 0:u.split("/");_&&y&&y.length>1&&(h=parseInt(y[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f=1===f.length?f[0]:null)}else{const _=yield a.text();try{d=JSON.parse(_),Array.isArray(d)&&404===a.status&&(f=[],d=null,p=200,g="OK")}catch{404===a.status&&""===_?(p=204,g="No Content"):d={message:_}}if(d&&r.isMaybeSingle&&!(null===(c=d?.details)||void 0===c)&&c.includes("0 rows")&&(d=null,p=200,g="OK"),d&&r.shouldThrowOnError)throw new O$(d)}return{error:d,data:f,count:h,status:p,statusText:g}});return function(a){return o.apply(this,arguments)}}());return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,u;return{error:{message:`${null!==(a=o?.name)&&void 0!==a?a:"FetchError"}: ${o?.message}`,details:`${null!==(l=o?.stack)&&void 0!==l?l:""}`,hint:"",code:`${null!==(u=o?.code)&&void 0!==u?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(n,t)}}class k$ extends P${select(n){let t=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":('"'===i&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){return this.url.searchParams.set(typeof r>"u"?"limit":`${r}.limit`,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(typeof i>"u"?"offset":`${i}.offset`,`${n}`),this.url.searchParams.set(o,""+(t-n+1)),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,this}rollback(){var n;return(null!==(n=this.headers.Prefer)&&void 0!==n?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Qi extends k${eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const r=Array.from(new Set(t)).map(i=>"string"==typeof i&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return this.url.searchParams.append(n,"string"==typeof t?`ov.${t}`:`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let s="";return"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w"),this.url.searchParams.append(n,`${s}fts${void 0===r?"":`(${r})`}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){return this.url.searchParams.append(r?`${r}.or`:"or",`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}}class x${constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!s?"":('"'===a&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Qi({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){const o=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qi({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){const l=n.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qi({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Qi({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qi({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const F$={"X-Client-Info":"postgrest-js/1.10.0"};class Vh{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},F$),t),this.schemaName=r,this.fetch=i}from(n){const t=new URL(`${this.url}/${n}`);return new x$(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Vh(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${n}`);let a;r?(s="HEAD",Object.entries(t).forEach(([u,c])=>{o.searchParams.append(u,`${c}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Qi({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const L$={"X-Client-Info":"realtime-js/2.9.3"};var Po=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Po||{}),kt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(kt||{}),gn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(gn||{}),iC=function(e){return e.websocket="websocket",e}(iC||{}),Zi=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Zi||{});class sC{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class B${constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(n.slice(o,o+i));o+=i;const l=r.decode(n.slice(o,o+s));return o+=s,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(n.slice(o,n.byteLength)))}}}class Hh{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class ko{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ko.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ko.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ko.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const s=this.cloneDeep(n),o=this.transformState(t),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=c.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=null!==(u=n[a])&&void 0!==u?u:[];if(n[a]=this.cloneDeep(l),c.length>0){const d=n[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=n[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),n[a]=u,i(a,u,l),0===u.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var de=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(de||{});const oC=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((s,o)=>(s[o]=V$(o,e,n,i),s),{})},V$=(e,n,t,r)=>{const i=n.find(a=>a.name===e),s=i?.type,o=t[e];return s&&!r.includes(s)?aC(s,o):zh(o)},aC=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return G$(n,t)}switch(e){case de.bool:return H$(n);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return z$(n);case de.json:case de.jsonb:return q$(n);case de.timestamp:return W$(n);default:return zh(n)}},zh=e=>e,H$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},z$=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},q$=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},G$=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let s;const o=e.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>aC(n,a))}return e},W$=e=>"string"==typeof e?e.replace(" ","T"):e;class qh{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Hh(this,gn.join,this.params,this.timeout),this.rejoinTimer=new sC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ko(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>n&&n("CHANNEL_ERROR",u)),this._onClose(()=>n&&n("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(u=>u.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==u){const d=this.bindings.postgres_changes,f=null!==(c=d?.length)&&void 0!==c?c:0,h=[];for(let p=0;p<f;p++){const g=d[p],{filter:{event:m,schema:_,table:y,filter:b}}=g,E=u&&u[p];if(!E||E.event!==m||E.schema!==_||E.table!==y||E.filter!==b)return this.unsubscribe(),void(n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));h.push(Object.assign(Object.assign({},g),{id:E.id}))}return this.bindings.postgres_changes=h,void(n&&n("SUBSCRIBED"))}n&&n("SUBSCRIBED")}).receive("error",u=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n,t={}){var r=this;return v(function*(){return yield r.send({type:"presence",event:"track",payload:n},t.timeout||r.timeout)})()}untrack(n={}){var t=this;return v(function*(){return yield t.send({type:"presence",event:"untrack"},n)})()}on(n,t,r){return this._on(n,t,r)}send(n,t={}){var r=this;return v(function*(){var i,s;if(r._canPush()||"broadcast"!==n.type)return new Promise(o=>{var a,l,u;const c=r._push(n.type,n,t.timeout||r.timeout);"broadcast"===n.type&&!(null!==(u=null===(l=null===(a=r.params)||void 0===a?void 0:a.config)||void 0===l?void 0:l.broadcast)&&void 0!==u&&u.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("timeout",()=>o("timed out"))});{const{event:o,payload:a}=n,l={method:"POST",headers:{apikey:null!==(i=r.socket.apiKey)&&void 0!==i?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:o,payload:a}]})};try{return(yield r._fetchWithTimeout(r.broadcastEndpointURL,l,null!==(s=t.timeout)&&void 0!==s?s:r.timeout)).ok?"ok":"error"}catch(u){return"AbortError"===u.name?"timed out":"error"}}})()}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=kt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Hh(this,gn.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let n=this.socket.endPoint;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(n,t,r){var i=this;return v(function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hh(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,s;const o=n.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=gn;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,m;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(m=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===m?void 0:m.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):null===(s=this.bindings[o])||void 0===s||s.filter(h=>{var p,g,m,_,y,b;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in h){const E=h.id,O=null===(p=h.filter)||void 0===p?void 0:p.event;return E&&(null===(g=t.ids)||void 0===g?void 0:g.includes(E))&&("*"===O||O?.toLocaleLowerCase()===(null===(m=t.data)||void 0===m?void 0:m.type.toLocaleLowerCase()))}{const E=null===(y=null===(_=h?.filter)||void 0===_?void 0:_.event)||void 0===y?void 0:y.toLocaleLowerCase();return"*"===E||E===(null===(b=t?.event)||void 0===b?void 0:b.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===o}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:_,type:y,errors:b}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:_,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!((null===(s=i.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&qh.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(gn.close,{},n)}_onError(n){this._on(gn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=oC(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=oC(n.columns,n.old_record)),t}}const Y$=()=>{},J$=typeof WebSocket<"u";class X${constructor(n,t){var i,r=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=L$,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Y$,this.conn=null,this.sendBuffer=[],this.serializer=new B$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let a;return a=o||(typeof fetch>"u"?(...l)=>Promise.resolve().then(Ne.bind(Ne,470)).then(({default:u})=>u(...l)):fetch),(...l)=>a(...l)},this.endPoint=`${n}/${iC.websocket}`,this.transport=t?.transport?t.transport:null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(i=t?.params)||void 0===i?void 0:i.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sC(v(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(J$)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new e2(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ne.e(350).then(Ne.t.bind(Ne,350,23)).then(({default:n})=>{this.conn=new n(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){var t=this;return v(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return v(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Po.connecting:return Zi.Connecting;case Po.open:return Zi.Open;case Po.closing:return Zi.Closing;default:return Zi.Closed}}isConnected(){return this.connectionState()===Zi.Open}channel(n,t={config:{}}){const r=new qh(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){const{topic:t,event:r,payload:i,ref:s}=n,o=()=>{this.encode(n,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(gn.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(gn.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(n=this.conn)||void 0===n||n.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class e2{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Po.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}}class Gh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class t2 extends Gh{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lC extends Gh{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const uC=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ne.bind(Ne,470)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)};var Yi=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const Wh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i2=(e,n)=>Yi(void 0,void 0,void 0,function*(){const t=yield function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(Ne.bind(Ne,470))).Response:Response});e instanceof t?e.json().then(r=>{n(new t2(Wh(r),e.status||500))}).catch(r=>{n(new lC(Wh(r),r))}):n(new lC(Wh(e),e))}),s2=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function au(e,n,t,r,i,s){return Yi(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(t,s2(n,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>i2(l,a))})})}function Kh(e,n,t,r){return Yi(this,void 0,void 0,function*(){return au(e,"GET",n,t,r)})}function ir(e,n,t,r,i){return Yi(this,void 0,void 0,function*(){return au(e,"POST",n,r,i,t)})}function o2(e,n,t,r,i){return Yi(this,void 0,void 0,function*(){return au(e,"PUT",n,r,i,t)})}function cC(e,n,t,r,i){return Yi(this,void 0,void 0,function*(){return au(e,"DELETE",n,r,i,t)})}var xt=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const a2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l2{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=uC(i)}uploadOrUpdate(n,t,r,i){return xt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},dC),i),a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield c.json();return c.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}upload(n,t,r){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return xt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(n),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:dC.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(qe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n){return xt(this,void 0,void 0,function*(){try{let t=this._getFinalPath(n);const r=yield ir(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new Gh("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:s},error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}update(n,t,r){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t){return xt(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}copy(n,t){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,r){return xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),s=yield ir(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return xt(this,void 0,void 0,function*(){try{const i=yield ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}download(n,t){return xt(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield Kh(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(qe(a))return{data:null,error:a};throw a}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],s=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==s&&i.push(s);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});""!==l&&i.push(l);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return xt(this,void 0,void 0,function*(){try{return{data:yield cC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}list(n,t,r){return xt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},a2),t),{prefix:n||""});return{data:yield ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const u2={"X-Client-Info":"storage-js/2.5.5"};var Ji=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};class c2{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},u2),t),this.fetch=uC(r)}listBuckets(){return Ji(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}getBucket(n){return Ji(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Ji(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Ji(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Ji(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Ji(this,void 0,void 0,function*(){try{return{data:yield cC(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}}class d2 extends c2{constructor(n,t={},r){super(n,t,r)}from(n){return new l2(this.url,this.headers,n,this.fetch)}}let xo="";xo=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const h2={"X-Client-Info":`supabase-js-${xo}/2.39.3`};const y2=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?Uh.default:fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?Uh.Headers:Headers;return(s,o)=>function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const l=null!==(a=yield n())&&void 0!==a?a:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})},Qt=()=>typeof document<"u",Or={tested:!1,writable:!1},Fo=()=>{if(!Qt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Or.tested)return Or.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function Qh(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{n[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}const fC=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ne.bind(Ne,470)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},b2=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Pr=function(){var e=v(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),lu=function(){var e=v(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),Zh=function(){var e=v(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class uu{constructor(){this.promise=new uu.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function hC(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function E2(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,s,o,a,l,u,t="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=n.indexOf(e.charAt(c++)),a=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),r=o<<2|a>>4,i=(15&a)<<4|l>>2,s=(3&l)<<6|u,t+=String.fromCharCode(r),64!=l&&0!=i&&(t+=String.fromCharCode(i)),64!=u&&0!=s&&(t+=String.fromCharCode(s));return t}(t[1]))}function Yh(){return(Yh=v(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function I2(e){return("0"+e.toString(16)).substr(-2)}function Xi(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,I2).join("")}function Jh(){return(Jh=v(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})).apply(this,arguments)}function es(e){return Xh.apply(this,arguments)}function Xh(){return Xh=v(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function T2(e){return Jh.apply(this,arguments)}(e);return function M2(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}),Xh.apply(this,arguments)}uu.promiseConstructor=Promise;class ep extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function q(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class A2 extends ep{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pC extends ep{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class kr extends ep{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ts extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class tp extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class cu extends kr{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class du extends kr{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gC extends kr{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class np extends kr{constructor(n,t){super(n,"AuthRetryableFetchError",t)}}function rp(e){return q(e)&&"AuthRetryableFetchError"===e.name}class N2 extends kr{constructor(n,t,r){super(n,"AuthWeakPasswordError",t),this.reasons=r}}const ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P2=[502,503,504];function mC(e){return ip.apply(this,arguments)}function ip(){return(ip=v(function*(e){if(!b2(e))throw new np(ns(e),0);if(P2.includes(e.status))throw new np(ns(e),e.status);let n;try{n=yield e.json()}catch(t){throw new pC(ns(t),t)}throw"object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)?new N2(ns(n),e.status,n.weak_password.reasons):new A2(ns(n),e.status||500)})).apply(this,arguments)}const k2=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function K(e,n,t,r){return sp.apply(this,arguments)}function sp(){return sp=v(function*(e,n,t,r){var i;const s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function x2(e,n,t,r,i,s){return op.apply(this,arguments)}(e,n,t+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),sp.apply(this,arguments)}function op(){return(op=v(function*(e,n,t,r,i,s){const o=k2(n,r,i,s);let a;try{a=yield e(t,o)}catch(l){throw console.error(l),new np(ns(l),0)}if(a.ok||(yield mC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield mC(l)}})).apply(this,arguments)}function xr(e){var n;let t=null;return function $2(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function w2(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function yC(e){const n=xr(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function sr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function F2(e){return{data:e,error:null}}function L2(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=e,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function j2(e){return e}class U2{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=fC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){var r=this;return v(function*(){try{return yield K(r.fetch,"POST",`${r.url}/logout?scope=${t}`,{headers:r.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(q(i))return{data:null,error:i};throw i}})()}inviteUserByEmail(n,t={}){var r=this;return v(function*(){try{return yield K(r.fetch,"POST",`${r.url}/invite`,{body:{email:n,data:t.data},headers:r.headers,redirectTo:t.redirectTo,xform:sr})}catch(i){if(q(i))return{data:{user:null},error:i};throw i}})()}generateLink(n){var t=this;return v(function*(){try{const{options:r}=n,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),yield K(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:s,headers:t.headers,xform:L2,redirectTo:r?.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return v(function*(){try{return yield K(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:sr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return v(function*(){var r,i,s,o,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=yield K(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(o=null===(s=n?.perPage)||void 0===s?void 0:s.toString())&&void 0!==o?o:""},xform:j2});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}})()}getUserById(n){var t=this;return v(function*(){try{return yield K(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:sr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return v(function*(){try{return yield K(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:sr})}catch(i){if(q(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n,t=!1){var r=this;return v(function*(){try{return yield K(r.fetch,"DELETE",`${r.url}/admin/users/${n}`,{headers:r.headers,body:{should_soft_delete:t},xform:sr})}catch(i){if(q(i))return{data:{user:null},error:i};throw i}})()}_listFactors(n){var t=this;return v(function*(){try{const{data:r,error:i}=yield K(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(q(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return v(function*(){try{return{data:yield K(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}})()}}const q2={getItem:e=>Fo()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Fo()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Fo()&&globalThis.localStorage.removeItem(e)}};function wC(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const rs={debug:!!(globalThis&&Fo()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class DC extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class W2 extends DC{}function K2(e,n,t){return ap.apply(this,arguments)}function ap(){return ap=v(function*(e,n,t){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=v(function*(s){if(!s){if(0===n)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new W2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rs.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return yield t()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}});return function(s){return i.apply(this,arguments)}}())}),ap.apply(this,arguments)}!function G2(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Q2={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/0.0.0"},flowType:"implicit",debug:!1},Lo=3e4;function EC(e,n,t){return lp.apply(this,arguments)}function lp(){return(lp=v(function*(e,n,t){return yield t()})).apply(this,arguments)}let Z2=(()=>{class e{constructor(t){var i,s,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Q2),t);if(this.logDebugMessages=!!o.debug,"function"==typeof o.debug&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new U2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=fC(o.fetch),this.lock=o.lock||EC,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.lock=o.lock?o.lock:Qt()&&null!==(i=globalThis?.navigator)&&void 0!==i&&i.locks?K2:EC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Fo()?this.storage=q2:(this.memoryStorage={},this.storage=wC(this.memoryStorage)):(this.memoryStorage={},this.storage=wC(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",function(){var a=v(function*(l){r._debug("received broadcast notification from other tab or client",l),yield r._notifyAllSubscribers(l.data.event,l.data.session,!1)});return function(l){return a.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (0.0.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return v(function*(){return t.initializePromise||(t.initializePromise=v(function*(){return yield t._acquireLock(-1,v(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return v(function*(){try{const r=!!Qt()&&(yield t._isPKCEFlow());if(t._debug("#_initialize()","begin","is PKCE flow",r),r||t.detectSessionInUrl&&t._isImplicitGrantFlow()){const{data:i,error:s}=yield t._getSessionFromURL(r);if(s)return t._debug("#_initialize()","error detecting session from URL",s),"Identity is already linked"===s?.message||"Identity is already linked to another user"===s?.message||(yield t._removeSession()),{error:s};const{session:o,redirectType:a}=i;return t._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield t._saveSession(o),setTimeout(v(function*(){"recovery"===a?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield t._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new pC("Unexpected error during initialization",r)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signUp(t){var r=this;return v(function*(){var i,s,o;try{let a;if(yield r._removeSession(),"email"in t){const{email:f,password:h,options:p}=t;let g=null,m=null;if("pkce"===r.flowType){const _=Xi();yield Pr(r.storage,`${r.storageKey}-code-verifier`,_),g=yield es(_),m=_===g?"plain":"s256"}a=yield K(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},xform:xr})}else{if(!("phone"in t))throw new cu("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:p}=t;a=yield K(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(s=p?.data)&&void 0!==s?s:{},channel:null!==(o=p?.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xr})}}const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return v(function*(){try{let i;if(yield r._removeSession(),"email"in t){const{email:a,password:l,options:u}=t;i=yield K(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yC})}else{if(!("phone"in t))throw new cu("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:u}=t;i=yield K(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yC})}}const{data:s,error:o}=i;return o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o}):{data:{user:null,session:null},error:new tp}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return v(function*(){var i,s,o,a;return yield r._removeSession(),yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(s=t.options)||void 0===s?void 0:s.scopes,queryParams:null===(o=t.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return v(function*(){return yield r.initializePromise,r._acquireLock(-1,v(function*(){return r._exchangeCodeForSession(t)}))})()}_exchangeCodeForSession(t){var r=this;return v(function*(){const i=yield lu(r.storage,`${r.storageKey}-code-verifier`),[s,o]=(i??"").split("/"),{data:a,error:l}=yield K(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:s},xform:xr});return yield Zh(r.storage,`${r.storageKey}-code-verifier`),l?{data:{user:null,session:null,redirectType:null},error:l}:a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l}):{data:{user:null,session:null,redirectType:null},error:new tp}})()}signInWithIdToken(t){var r=this;return v(function*(){yield r._removeSession();try{const{options:i,provider:s,token:o,access_token:a,nonce:l}=t,u=yield K(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:s,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:xr}),{data:c,error:d}=u;return d?{data:{user:null,session:null},error:d}:c&&c.session&&c.user?(c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d}):{data:{user:null,session:null},error:new tp}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return v(function*(){var i,s,o,a,l;try{if(yield r._removeSession(),"email"in t){const{email:u,options:c}=t;let d=null,f=null;if("pkce"===r.flowType){const p=Xi();yield Pr(r.storage,`${r.storageKey}-code-verifier`,p),d=yield es(p),f=p===d?"plain":"s256"}const{error:h}=yield K(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=c?.data)&&void 0!==i?i:{},create_user:null===(s=c?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:c}=t,{data:d,error:f}=yield K(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(o=c?.data)&&void 0!==o?o:{},create_user:null===(a=c?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:null!==(l=c?.channel)&&void 0!==l?l:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new cu("You must provide either an email or phone number.")}catch(u){if(q(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(t){var r=this;return v(function*(){var i,s;try{let o,a;"email_change"!==t.type&&"phone_change"!==t.type&&(yield r._removeSession()),"options"in t&&(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(s=t.options)||void 0===s?void 0:s.captchaToken);const{data:l,error:u}=yield K(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:xr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c?.access_token&&(yield r._saveSession(c),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithSSO(t){var r=this;return v(function*(){var i,s,o;try{yield r._removeSession();let a=null,l=null;if("pkce"===r.flowType){const u=Xi();yield Pr(r.storage,`${r.storageKey}-code-verifier`,u),a=yield es(u),l=u===a?"plain":"s256"}return yield K(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==s?s:void 0}),null!==(o=t?.options)&&void 0!==o&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:r.headers,xform:F2})}catch(a){if(q(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return v(function*(){return yield t.initializePromise,yield t._acquireLock(-1,v(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return v(function*(){try{return yield t._useSession(function(){var r=v(function*(i){const{data:{session:s},error:o}=i;if(o)throw o;if(!s)throw new ts;const{error:a}=yield K(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return v(function*(){try{"email_change"!=t.type&&"phone_change"!=t.type&&(yield r._removeSession());const i=`${r.url}/resend`;if("email"in t){const{email:s,type:o,options:a}=t,{error:l}=yield K(r.fetch,"POST",i,{headers:r.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in t){const{phone:s,type:o,options:a}=t,{data:l,error:u}=yield K(r.fetch,"POST",i,{headers:r.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new cu("You must provide either an email or phone number and a type")}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return v(function*(){return yield t.initializePromise,t._acquireLock(-1,v(function*(){return t._useSession(function(){var r=v(function*(i){return i});return function(i){return r.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return v(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const s=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),o=v(function*(){return yield s,yield r()})();return i.pendingInLock.push(v(function*(){try{yield o}catch{}})()),o}return yield i.lock(`lock:${i.storageKey}`,t,v(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const s=r();for(i.pendingInLock.push(v(function*(){try{yield s}catch{}})()),yield s;i.pendingInLock.length;){const o=[...i.pendingInLock];yield Promise.all(o),i.pendingInLock.splice(0,o.length)}return yield s}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return v(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return v(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield lu(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const s=!!r.expires_at&&r.expires_at<=Date.now()/1e3;if(t._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s)return{data:{session:r},error:null};const{session:o,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return v(function*(){return t?yield r._getUser(t):(yield r.initializePromise,r._acquireLock(-1,v(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return v(function*(){try{return t?yield K(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:sr}):yield r._useSession(function(){var i=v(function*(s){var o,a;const{data:l,error:u}=s;if(u)throw u;return yield K(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0,xform:sr})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:{user:null},error:i};throw i}})()}updateUser(t,r={}){var i=this;return v(function*(){return yield i.initializePromise,yield i._acquireLock(-1,v(function*(){return yield i._updateUser(t,r)}))})()}_updateUser(t,r={}){var i=this;return v(function*(){try{return yield i._useSession(function(){var s=v(function*(o){const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new ts;const u=a.session;let c=null,d=null;if("pkce"===i.flowType&&null!=t.email){const p=Xi();yield Pr(i.storage,`${i.storageKey}-code-verifier`,p),c=yield es(p),d=p===c?"plain":"s256"}const{data:f,error:h}=yield K(i.fetch,"PUT",`${i.url}/user`,{headers:i.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:u.access_token,xform:sr});if(h)throw h;return u.user=f.user,yield i._saveSession(u),yield i._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}});return function(o){return s.apply(this,arguments)}}())}catch(s){if(q(s))return{data:{user:null},error:s};throw s}})()}_decodeJWT(t){return hC(t)}setSession(t){var r=this;return v(function*(){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return v(function*(){try{if(!t.access_token||!t.refresh_token)throw new ts;const i=Date.now()/1e3;let s=i,o=!0,a=null;const l=hC(t.access_token);if(l.exp&&(s=l.exp,o=s<=i),o){const{session:u,error:c}=yield r._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=yield r._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:s-i,expires_at:s},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(q(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return v(function*(){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o;if(!t){const{data:u,error:c}=s;if(c)throw c;t=null!==(o=u.session)&&void 0!==o?o:void 0}if(!t?.refresh_token)throw new ts;const{session:a,error:l}=yield r._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t){var r=this;return v(function*(){try{if(!Qt())throw new du("No browser detected.");if("implicit"===r.flowType&&!r._isImplicitGrantFlow())throw new du("Not a valid implicit grant flow url.");if("pkce"==r.flowType&&!t)throw new gC("Not a valid PKCE flow url.");const i=Qh(window.location.href);if(t){if(!i.code)throw new gC("No code detected.");const{data:E,error:O}=yield r._exchangeCodeForSession(i.code);if(O)throw O;const ie=new URL(window.location.href);return ie.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ie.toString()),{data:{session:E.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new du(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:c,token_type:d}=i;if(!(a&&u&&l&&d))throw new du("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(u);let p=f+h;c&&(p=parseInt(c));const g=p-f;1e3*g<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=p-h;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,p,f);const{data:_,error:y}=yield r._getUser(a);if(y)throw y;const b={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:h,expires_at:p,refresh_token:l,token_type:d,user:_.user};return window.location.hash="",r._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:i.type},error:null}}catch(i){if(q(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantFlow(){const t=Qh(window.location.href);return!(!Qt()||!t.access_token&&!t.error_description)}_isPKCEFlow(){var t=this;return v(function*(){const r=Qh(window.location.href),i=yield lu(t.storage,`${t.storageKey}-code-verifier`);return!(!r.code||!i)})()}signOut(t={scope:"global"}){var r=this;return v(function*(){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._signOut(t)}))})()}_signOut({scope:t}={scope:"global"}){var r=this;return v(function*(){return yield r._useSession(function(){var i=v(function*(s){var o;const{data:a,error:l}=s;if(l)return{error:l};const u=null===(o=a.session)||void 0===o?void 0:o.access_token;if(u){const{error:c}=yield r.admin.signOut(u,t);if(c&&(!function R2(e){return q(e)&&"AuthApiError"===e.name}(c)||404!==c.status&&401!==c.status))return{error:c}}return"others"!==t&&(yield r._removeSession(),yield Zh(r.storage,`${r.storageKey}-code-verifier`),yield r._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(s){return i.apply(this,arguments)}}())})()}onAuthStateChange(t){var r=this;const i=function D2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),s={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),v(function*(){yield r.initializePromise,yield r._acquireLock(-1,v(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:s}}}_emitInitialSession(t){var r=this;return v(function*(){return yield r._useSession(function(){var i=v(function*(s){var o,a;try{const{data:{session:l},error:u}=s;if(u)throw u;yield null===(o=r.stateChangeEmitters.get(t))||void 0===o?void 0:o.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}});return function(s){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t,r={}){var i=this;return v(function*(){let s=null,o=null;if("pkce"===i.flowType){const a=Xi();yield Pr(i.storage,`${i.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),s=yield es(a),o=a===s?"plain":"s256"}try{return yield K(i.fetch,"POST",`${i.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:i.headers,redirectTo:r.redirectTo})}catch(a){if(q(a))return{data:null,error:a};throw a}})()}getUserIdentities(){var t=this;return v(function*(){var r;try{const{data:i,error:s}=yield t.getUser();if(s)throw s;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if(q(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return v(function*(){var i;try{const{data:s,error:o}=yield r._useSession(function(){var a=v(function*(l){var u,c,d,f,h;const{data:p,error:g}=l;if(g)throw g;const m=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(u=t.options)||void 0===u?void 0:u.redirectTo,scopes:null===(c=t.options)||void 0===c?void 0:c.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield K(r.fetch,"GET",m,{headers:r.headers,jwt:null!==(h=null===(f=p.session)||void 0===f?void 0:f.access_token)&&void 0!==h?h:void 0})});return function(l){return a.apply(this,arguments)}}());if(o)throw o;return Qt()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}})()}unlinkIdentity(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o,a;const{data:l,error:u}=s;if(u)throw u;return yield K(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return v(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const s=Date.now();return yield function S2(e,n){return new Promise((r,i)=>{v(function*(){for(let s=0;s<1/0;s++)try{const o=yield e(s);if(!n(s,null,o))return void r(o)}catch(o){if(!n(s,o))return void i(o)}})()})}(function(){var o=v(function*(a){return yield function C2(e){return Yh.apply(this,arguments)}(200*a),r._debug(i,"refreshing attempt",a),yield K(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:xr})});return function(a){return o.apply(this,arguments)}}(),(o,a,l)=>l&&l.error&&rp(l.error)&&Date.now()+200*(o+1)-s<Lo)}catch(s){if(r._debug(i,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return v(function*(){const s=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Qt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}})()}_recoverAndRefresh(){var t=this;return v(function*(){var r;const i="#_recoverAndRefresh()";t._debug(i,"begin");try{const s=yield lu(t.storage,t.storageKey);if(t._debug(i,"session from storage",s),!t._isValidSession(s))return t._debug(i,"session is not valid"),void(null!==s&&(yield t._removeSession()));const o=Math.round(Date.now()/1e3),a=(null!==(r=s.expires_at)&&void 0!==r?r:1/0)<o+10;if(t._debug(i,`session has${a?"":" not"} expired with margin of 10s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:l}=yield t._callRefreshToken(s.refresh_token);l&&(console.error(l),rp(l)||(t._debug(i,"refresh failed with a non-retryable error, removing the session",l),yield t._removeSession()))}}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(i,"error",s),void console.error(s)}finally{t._debug(i,"end")}})()}_callRefreshToken(t){var r=this;return v(function*(){var i,s;if(!t)throw new ts;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(o,"begin");try{r.refreshingDeferred=new uu;const{data:a,error:l}=yield r._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new ts;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(o,"error",a),q(a)){const l={session:null,error:a};return rp(a)||(yield r._removeSession(),yield r._notifyAllSubscribers("SIGNED_OUT",null)),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(s=r.refreshingDeferred)||void 0===s||s.reject(a),a}finally{r.refreshingDeferred=null,r._debug(o,"end")}})()}_notifyAllSubscribers(t,r,i=!0){var s=this;return v(function*(){const o=`#_notifyAllSubscribers(${t})`;s._debug(o,"begin",r,`broadcast = ${i}`);try{s.broadcastChannel&&i&&s.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(s.stateChangeEmitters.values()).map(function(){var u=v(function*(c){try{yield c.callback(t,r)}catch(d){a.push(d)}});return function(c){return u.apply(this,arguments)}}());if(yield Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{s._debug(o,"end")}})()}_saveSession(t){var r=this;return v(function*(){r._debug("#_saveSession()",t),yield Pr(r.storage,r.storageKey,t)})()}_removeSession(){var t=this;return v(function*(){t._debug("#_removeSession()"),yield Zh(t.storage,t.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return v(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Lo);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(v(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return v(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return v(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return v(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return v(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,v(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=v(function*(s){const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*o.expires_at-r)/Lo);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(o.refresh_token))});return function(s){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof DC))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return v(function*(){if(t._debug("#_handleVisibilityChange()"),!Qt()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=v(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return v(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,v(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var s=this;return v(function*(){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===s.flowType){const a=Xi();yield Pr(s.storage,`${s.storageKey}-code-verifier`,a);const l=yield es(a),u=a===l?"plain":"s256";s._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",l,"method",u);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})()}_unenroll(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield K(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:c,error:d}=yield K(r.fetch,"POST",`${r.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:r.headers,jwt:null===(o=l?.session)||void 0===o?void 0:o.access_token});return d?{data:null,error:d}:(!(null===(a=c?.totp)||void 0===a)&&a.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return v(function*(){return r._acquireLock(-1,v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const{data:u,error:c}=yield K(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token});return c?{data:null,error:c}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return v(function*(){return r._acquireLock(-1,v(function*(){try{return yield r._useSession(function(){var i=v(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield K(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(q(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return v(function*(){const{data:i,error:s}=yield r._challenge({factorId:t.factorId});return s?{data:null,error:s}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return v(function*(){const{data:{user:r},error:i}=yield t.getUser();if(i)return{data:null,error:i};const s=r?.factors||[],o=s.filter(a=>"totp"===a.factor_type&&"verified"===a.status);return{data:{all:s,totp:o},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return v(function*(){return t._acquireLock(-1,v(function*(){return yield t._useSession(function(){var r=v(function*(i){var s,o;const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=t._decodeJWT(a.access_token);let c=null;u.aal&&(c=u.aal);let d=c;return(null!==(o=null===(s=a.user.factors)||void 0===s?void 0:s.filter(p=>"verified"===p.status))&&void 0!==o?o:[]).length>0&&(d="aal2"),{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:u.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}}return e.nextInstanceID=0,e})();class Y2 extends Z2{constructor(n){super(n)}}const X2={headers:h2},eB={schema:"public"},tB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nB={};class rB{constructor(n,t,r){var i,s,o,a,l,u,c,d;if(this.supabaseUrl=n,this.supabaseKey=t,this.from=m=>this.rest.from(m),this.schema=m=>this.rest.schema(m),this.rpc=(m,_={},y)=>this.rest.rpc(m,_,y),!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=function v2(e){return e.replace(/\/$/,"")}(n);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g=function _2(e,n){const{db:t,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=n;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}(r??{},{db:eB,realtime:nB,auth:Object.assign(Object.assign({},tB),{storageKey:h}),global:X2});this.storageKey=null!==(s=null===(i=g.auth)||void 0===i?void 0:i.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(o=g.global)||void 0===o?void 0:o.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(l=g.auth)&&void 0!==l?l:{},this.headers,null===(u=g.global)||void 0===u?void 0:u.fetch),this.fetch=y2(t,this._getAccessToken.bind(this),null===(c=g.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Vh(`${f}/rest/v1`,{headers:this.headers,schema:null===(d=g.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new N$(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d2(this.storageUrl,this.headers,this.fetch)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,u){return new Y2({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(n){return new X$(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let is=(()=>{class e{constructor(){this.supabase=new rB("https://eexyrtphepvrlecwllxt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVleHlydHBoZXB2cmxlY3dsbHh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDU5NTQ1MjYsImV4cCI6MjAyMTUzMDUyNn0.w1cdFHWN59fxUWXiSeJ2q48gOr4_ZzXd98BQpHucIaY",void 0),this.realtime=new ve(0),this.supabase.channel("custom-update-channel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"board"},s=>{this.realtime.next(s),console.log(s)}).subscribe()}getBoard(){var t=this;return v(function*(){let{data:r}=yield t.supabase.from("board").select("board");return r})()}updateBoard(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("board").update({board:t}).eq("id",1);console.log(i)})()}updatePlayer1(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("Game").update({player1_connection:t}).eq("id",2);return i})()}getPlayer1Connection(){var t=this;return v(function*(){let{data:r}=yield t.supabase.from("Game").select("player1_connection");return r})()}updatePlayer2(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("Game").update({player2_connection:t}).eq("id",2);return i})()}getPlayer2Connection(){var t=this;return v(function*(){let{data:r,error:i}=yield t.supabase.from("Game").select("player2_connection");return{connection:r,error:i}})()}getPlayer1Blocks(){var t=this;return v(function*(){let{data:r,error:i}=yield t.supabase.from("board").select("player1_blocks");return{blockIndexes:r,error:i}})()}getPlayer2Blocks(){var t=this;return v(function*(){let{data:r,error:i}=yield t.supabase.from("board").select("player2_blocks");return{blockIndexes:r,error:i}})()}updatePlayer1Blocks(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("board").update({player1_blocks:t}).eq("id",1);return i})()}updatePlayer2Blocks(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("board").update({player2_blocks:t}).eq("id",1);return i})()}updateTurns(t){var r=this;return v(function*(){const{error:i}=yield r.supabase.from("board").update({turns:t}).eq("id",1);return i})()}getTurns(){var t=this;return v(function*(){let{data:r,error:i}=yield t.supabase.from("board").select("turns");return{turns:r,error:i}})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jo=(()=>{class e{constructor(t){this.databaseService=t,this.selected=new ve([[0]]),this.possibleBlocks=new ve([[[25]]]),this.blocks=this.generateEmptyBoard(),this.grid=new ve(this.blocks),this.playernumber=new ve(0),this.selectedIndex=new ve(-1),this.indexes=new ve([!0,!1]),this.numberOfTurns=new ve(0),this.databaseService.realtime.subscribe(r=>this.numberOfTurns.next(r.new.turns))}getBlocks(){var t=this;return v(function*(){let r=yield t.databaseService.getBoard();t.blocks=r[0].board,t.grid.next(t.blocks)})()}reinitializePossibleBlocks(){var t=this;return v(function*(){let r=[];for(let i=0;i<21;i++)r.push(!0);yield t.databaseService.updatePlayer1Blocks(r),yield t.databaseService.updatePlayer2Blocks(r)})()}getPossibleBlocks(){return this.blocklist}updateSelected(t){this.selected.next(t)}updateGrid(t){this.databaseService.updateBoard(t),this.grid.next(t)}updatePossibleBlocks(t){}generateEmptyBoard(){let t=0,r=0,i=[];for(;t<14;){for(i.push([]);r<14;)i[t][r]=0,r++;t++,r=0}return i}reinitializeTurns(){this.databaseService.updateTurns(0)}addTurn(){var t=this;return v(function*(){let r=(yield t.databaseService.getTurns()).turns[0].turns;r+=1,yield t.databaseService.updateTurns(r)})()}static#e=this.\u0275fac=function(r){return new(r||e)(T(is))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),up=(()=>{class e{constructor(t,r){this.databaseService=t,this.blockService=r,this.title="blokus (Laura edition)",this.playernumber=0,this.indexes=new ve([!0,!1])}ngOnInit(){var t=this;return v(function*(){let r=yield t.databaseService.getPlayer1Connection();if(Date.now()-r[0].player1_connection<1e3){let i=yield t.databaseService.getPlayer2Connection();Date.now()-i.connection[0].player2_connection<1e3?console.log("sorry! the game is full"):(t.playernumber=2,t.blockService.playernumber.next(t.playernumber),eC(500).pipe(tC(()=>!0)).subscribe(v(function*(){yield t.databaseService.updatePlayer2(Date.now())})))}else t.playernumber=1,t.blockService.playernumber.next(t.playernumber),eC(500).pipe(tC(()=>!0)).subscribe(v(function*(){yield t.databaseService.updatePlayer1(Date.now())}));switch(t.playernumber){case 1:{let i=(yield t.databaseService.getPlayer1Blocks()).blockIndexes[0].player1_blocks;console.log(i),t.blockService.indexes.next(i),t.databaseService.realtime.subscribe(s=>t.indexes.next(s.new.player1_blocks));break}case 2:{let i=(yield t.databaseService.getPlayer2Blocks()).blockIndexes[0].player2_blocks;t.blockService.indexes.next(i),t.databaseService.realtime.subscribe(s=>t.indexes.next(s.new.player2_blocks));break}default:throw new Error("The game is full")}})()}static#e=this.\u0275fac=function(r){return new(r||e)(M(is),M(jo))};static#t=this.\u0275cmp=fr({type:e,selectors:[["app-root"]],decls:5,vars:0,template:function(r,i){1&r&&(Zn(0,"app-reset-button")(1,"app-grid"),Se(2,"div"),Zn(3,"app-turn"),Ie(),Zn(4,"app-user-blocks"))},styles:["div[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}"]})}return e})();function sB(e,n){if(1&e){const t=Hd();Se(0,"th",5,6),Yn("mouseenter",function(){const s=bs(t).index,o=He().index;return Es(He().onMouseEnter(s,o))})("mouseout",function(){const s=bs(t).index,o=He().index;return Es(He().onMouseOut(s,o))})("click",function(){const s=bs(t).index,o=He().index;return Es(He().onMouseClick(s,o))}),Ie()}if(2&e){const t=n.$implicit,r=n.index,i=He().index,s=He();Js("background-color",s.Painter(t)),Kd("test",s.changeCSSClass(r,i))("firstMove",s.IsFirstMove(r,i))}}function oB(e,n){if(1&e&&(Se(0,"tr",3),cn(1,sB,2,6,"th",4),Ie()),2&e){const t=n.$implicit;mt(1),Vt("ngForOf",t)}}function aB(e,n){if(1&e&&(Se(0,"div")(1,"p"),br(2),Ie()()),2&e){const t=He();mt(2),hl(t.placementError)}}let lB=(()=>{class e{constructor(t,r){this.blockService=t,this.databaseService=r,this.blocks=[],this.selectedBlock=[],this.databaseService.realtime.subscribe(i=>this.blocks=i.new.board),this.blockService.grid.subscribe(i=>this.blocks=i),this.blockService.selected.subscribe(i=>this.selectedBlock=i),this.playernumber=0,this.blockService.playernumber.subscribe(i=>this.playernumber=i),this.hoveredTiles=this.blockService.generateEmptyBoard(),this.placementError=null,this.i=-1,this.blockService.selectedIndex.subscribe(i=>this.i=i),this.turn=0,this.blockService.numberOfTurns.subscribe(i=>this.turn=i)}ngOnInit(){var t=this;return v(function*(){t.turn=yield(yield t.databaseService.getTurns()).turns[0].turns,t.blockService.getBlocks()})()}Painter(t){switch(t){case 1:return"Lightblue";case 2:return"pink";default:return"white"}}onMouseEnter(t,r){try{let i=this.selectedBlock.length,s=this.selectedBlock[0].length;for(let o=0;o<i;o++)for(let a=0;a<s;a++)0==this.hoveredTiles[r+o][t+a]&&(this.hoveredTiles[r+o][t+a]=this.selectedBlock[o][a]*this.playernumber)}catch{}}onMouseOut(t,r){try{let i=this.selectedBlock.length,s=this.selectedBlock[0].length;for(let o=0;o<i;o++)for(let a=0;a<s;a++)0!=this.hoveredTiles[r+o][t+a]&&(this.hoveredTiles[r+o][t+a]=0)}catch{}}changeCSSClass(t,r){return this.hoveredTiles[r][t]==this.playernumber}IsFirstMove(t,r){return!(0!=this.turn&&1!=this.turn||4!=t&&9!=t||4!=r&&9!=r||4==r&&9==t||9==r&&4==t||0!=this.blocks[r][t])}onMouseClick(t,r){var i=this;return v(function*(){if(i.turn%2==0&&2==i.playernumber)throw new Error("Not your turn !");if(i.turn%2==1&&1==i.playernumber)throw new Error("Not your turn !");let s=i.selectedBlock.length,o=i.selectedBlock[0].length;for(let a=0;a<s;a++)for(let l=0;l<o;l++)if(!(0==i.blocks[r+a][t+l]&&r+a<14&&t+l<14)&&0!=i.selectedBlock[a][l])throw console.log(i.blocks[r+a][t+l],r+a,t+l),i.placementError="Invalid placement !",new Error("inavlid placement !");if(0==i.turn||1==i.turn){let a=!1;for(let l=0;l<s;l++)for(let u=0;u<o;u++)console.log(t+l,r+u),t+u!=4&&t+u!=9||r+l!=4&&r+l!=9||r+l==4&&t+u==9||r+l==9&&t+u==4||0==i.selectedBlock[l][u]||(console.log("test"),a=!0);if(1!=a)throw new Error("Your first block must be on the gray square")}else{let a=!1;for(let l=0;l<s;l++)for(let u=0;u<o;u++)if(1==i.selectedBlock[l][u])for(let c=0;c<3;c++)for(let d=0;d<3;d++)console.log(r+l+c-1,t+u+d-1),i.blocks[r+l+c-1][t+u+d-1]==i.playernumber&&(a=!0);if(1!=a)throw new Error("error ! invalid placement. you must touch another of your blocks")}i.hoveredTiles=i.blockService.generateEmptyBoard();for(let a=0;a<s;a++)for(let l=0;l<o;l++)0==i.blocks[r+a][t+l]&&(i.blocks[r+a][t+l]=i.selectedBlock[a][l]*i.playernumber);switch(i.placementError=null,i.databaseService.updateBoard(i.blocks),i.blockService.updateSelected([]),i.playernumber){case 1:{let l=(yield i.databaseService.getPlayer1Blocks()).blockIndexes[0].player1_blocks;l[i.i]=!1,console.log(i.i),console.log(l),yield i.databaseService.updatePlayer1Blocks(l);break}case 2:{let l=(yield i.databaseService.getPlayer2Blocks()).blockIndexes[0].player2_blocks;l[i.i]=!1,yield i.databaseService.updatePlayer2Blocks(l);break}}i.blockService.addTurn()})()}static#e=this.\u0275fac=function(r){return new(r||e)(M(jo),M(is))};static#t=this.\u0275cmp=fr({type:e,selectors:[["app-grid"]],decls:3,vars:2,consts:[[1,"table"],["class","ligne",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ligne"],["class","colonne",3,"backgroundColor","test","firstMove","mouseenter","mouseout","click",4,"ngFor","ngForOf"],[1,"colonne",3,"mouseenter","mouseout","click"],["hoverName",""]],template:function(r,i){1&r&&(Se(0,"table",0),cn(1,oB,2,1,"tr",1),Ie(),cn(2,aB,3,1,"div",2)),2&r&&(mt(1),Vt("ngForOf",i.blocks),mt(1),Vt("ngIf",i.placementError))},dependencies:[Yf,Jf],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #585858;text-align:left;padding:8px;height:18px;width:18px;color:#fff}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;padding:20px;text-align:center;margin:10px auto}.test[_ngcontent-%COMP%]{background-color:#bebebe!important}.firstMove[_ngcontent-%COMP%]{background-color:#d8d8d8!important}"]})}return e})();function uB(e,n){if(1&e&&Zn(0,"th"),2&e){const t=n.$implicit;Js("background-color",He(2).Painter(t))}}function cB(e,n){if(1&e&&(Se(0,"tr"),cn(1,uB,1,2,"th",6),Ie()),2&e){const t=n.$implicit;mt(1),Vt("ngForOf",t)}}function dB(e,n){if(1&e){const t=Hd();Se(0,"th",2),Yn("click",function(){bs(t);const i=He(3),s=i.$implicit,o=i.index;return Es(He().select(s,o))}),Ie()}if(2&e){const t=n.$implicit;Js("background-color",He(4).Painter(t))}}function fB(e,n){if(1&e&&(Se(0,"tr"),cn(1,dB,1,2,"th",9),Ie()),2&e){const t=n.$implicit;mt(1),Vt("ngForOf",t)}}function hB(e,n){if(1&e&&(Se(0,"table",8),cn(1,fB,2,1,"tr",4),Ie()),2&e){const t=He().$implicit;mt(1),Vt("ngForOf",t)}}function pB(e,n){if(1&e&&(Se(0,"li"),cn(1,hB,2,1,"table",7),Ie()),2&e){const t=n.index,r=He();mt(1),Vt("ngIf",r.blockIndexes[t])}}let gB=(()=>{class e{Painter(t){if(0==t)return"white";switch(this.playernumber){case 1:return"Lightblue";case 2:return"pink";default:return"white"}}rotate(){let t=this.selectedBlock;const r=this.selectedBlock.length,i=this.selectedBlock[0].length;let s=[];for(let o=0;o<i;o++)s.push([]);for(let o=0;o<i;o++)for(let a=0;a<r;a++)s[o].unshift(t[a][o]);this.blockService.updateSelected(s)}mirror(){let t=[];for(let r=0;r<this.selectedBlock.length;r++)t.push(this.selectedBlock[r].reverse());this.blockService.updateSelected(t)}select(t,r){var i=this;return v(function*(){const s=JSON.parse(JSON.stringify(t));i.blockService.updateSelected(s),i.blockService.selectedIndex.next(r)})()}constructor(t,r,i){this.blockService=t,this.databaseService=r,this.appComponent=i,this.selectedBlock=[[0]],this.blockService.selected.subscribe(s=>this.selectedBlock=s),this.playernumber=0,this.blockService.playernumber.subscribe(s=>this.playernumber=s),this.blockIndexes=[],this.blockService.indexes.subscribe(s=>{this.blockIndexes=s}),this.appComponent.indexes.subscribe(s=>this.blockIndexes=s),console.log(this.blockIndexes),this.blocks=[[[1,1,1,1],[1,0,0,0]],[[1,1,1,1],[0,1,0,0]],[[1,1,1,0],[0,0,1,1]],[[1,1],[1,0]],[[1,1],[1,0],[1,1]],[[1,1,1],[1,0,0],[1,0,0]],[[1,1,0],[0,1,0],[0,1,1]],[[0,1,0],[1,1,1],[0,1,0]],[[1,1,1],[0,1,0],[0,1,0]],[[1,0,0],[1,1,0],[0,1,1]],[[1,1],[1,1],[1,0]],[[0,1,1],[1,1,0],[0,1,0]],[[1,1],[1,1]],[[1,1,1],[0,0,1]],[[1,1,1],[0,1,0]],[[1,1,0],[0,1,1]],[[1]],[[1],[1]],[[1],[1],[1]],[[1],[1],[1],[1]],[[1],[1],[1],[1],[1]]],this.possibleBlocks=[[[]]],this.blockService.possibleBlocks.subscribe(s=>this.possibleBlocks=s),this.blockService.possibleBlocks.next(this.blocks)}static#e=this.\u0275fac=function(r){return new(r||e)(M(jo),M(is),M(up))};static#t=this.\u0275cmp=fr({type:e,selectors:[["app-user-blocks"]],decls:14,vars:2,consts:[[1,"selectedDiv"],[1,"selectedList"],[3,"click"],[1,"selected"],[4,"ngFor","ngForOf"],["id","menu"],[3,"backgroundColor",4,"ngFor","ngForOf"],["class","table",4,"ngIf"],[1,"table"],[3,"backgroundColor","click",4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(Se(0,"div",0)(1,"ul",1)(2,"li",1)(3,"button",2),Yn("click",function(){return i.rotate()}),br(4,"rotate"),Ie()(),Se(5,"li",1)(6,"button",2),Yn("click",function(){return i.mirror()}),br(7,"mirror"),Ie()(),Se(8,"li",1)(9,"table",3),cn(10,cB,2,1,"tr",4),Ie()()()(),Zn(11,"br"),Se(12,"ul",5),cn(13,pB,2,1,"li",4),Ie()),2&r&&(mt(10),Vt("ngForOf",i.selectedBlock),mt(3),Vt("ngForOf",i.possibleBlocks))},dependencies:[Yf,Jf],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ffffff;text-align:left;padding:2px;height:12px;width:12px;color:#fff}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;padding:20px;text-align:center;margin-left:auto;margin-right:auto}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]{display:inline}.selected[_ngcontent-%COMP%]{justify-content:center;align-items:center}.selectedDiv[_ngcontent-%COMP%]{height:80px}.selectedList[_ngcontent-%COMP%]{justify-content:center}"]})}return e})(),mB=(()=>{class e{constructor(t,r){this.databaseService=t,this.blockService=r,this.playernumber=0,this.blockService.playernumber.subscribe(i=>this.playernumber=i)}reset(){this.blockService.updateGrid(this.blockService.generateEmptyBoard()),this.blockService.reinitializePossibleBlocks(),this.blockService.reinitializeTurns()}static#e=this.\u0275fac=function(r){return new(r||e)(M(is),M(jo))};static#t=this.\u0275cmp=fr({type:e,selectors:[["app-reset-button"]],decls:5,vars:1,consts:[[3,"click"]],template:function(r,i){1&r&&(Se(0,"div")(1,"button",0),Yn("click",function(){return i.reset()}),br(2,"New Game"),Ie(),Se(3,"p"),br(4),Ie()()),2&r&&(mt(4),pl(" player ",i.playernumber,""))},styles:["button[_ngcontent-%COMP%]{width:130px;margin:auto}div[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}"]})}return e})();class CC{}class yB{}const Fn="*";function SC(e,n=null){return{type:2,steps:e,options:n}}function IC(e){return{type:6,styles:e,offset:null}}class $o{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TC{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function MC(e){return new w(3e3,!1)}function or(e){switch(e.length){case 0:return new $o;case 1:return e[0];default:return new TC(e)}}function AC(e,n,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(n.forEach(l=>{const u=l.get("offset"),c=u==o,d=c&&a||new Map;l.forEach((f,h)=>{let p=h,g=f;if("offset"!==h)switch(p=e.normalizePropertyName(p,i),g){case"!":g=t.get(h);break;case Fn:g=r.get(h);break;default:g=e.normalizeStyleValue(h,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=u}),i.length)throw function BB(e){return new w(3502,!1)}();return s}function dp(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&fp(t,"start",e)));break;case"done":e.onDone(()=>r(t&&fp(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&fp(t,"destroy",e)))}}function fp(e,n,t){const s=hp(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function hp(e,n,t,r,i="",s=0,o){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function _t(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function RC(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const JB=(()=>typeof document>"u"?null:document.documentElement)();function pp(e){const n=e.parentNode||e.host||null;return n===JB?null:n}let Fr=null,NC=!1;function OC(e,n){for(;n;){if(n===e)return!0;n=pp(n)}return!1}function PC(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let kC=(()=>{class e{validateStyleProperty(t){return function eU(e){Fr||(Fr=function tU(){return typeof document<"u"?document.body:null}()||{},NC=!!Fr.style&&"WebkitAppearance"in Fr.style);let n=!0;return Fr.style&&!function XB(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Fr.style,!n&&NC&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Fr.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return OC(t,r)}getParentElement(t){return pp(t)}query(t,r,i){return PC(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new $o(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),gp=(()=>{class e{static#e=this.NOOP=new kC}return e})();const nU=1e3,mp="ng-enter",fu="ng-leave",hu="ng-trigger",pu=".ng-trigger",FC="ng-animating",yp=".ng-animating";function Ln(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:vp(parseFloat(n[1]),n[2])}function vp(e,n){return"s"===n?e*nU:e}function gu(e,n,t){return e.hasOwnProperty("duration")?e:function iU(e,n,t){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(MC()),{duration:0,delay:0,easing:""};i=vp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=vp(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=e;if(!t){let a=!1,l=n.length;i<0&&(n.push(function vB(){return new w(3100,!1)}()),a=!0),s<0&&(n.push(function _B(){return new w(3101,!1)}()),a=!0),a&&n.splice(l,0,MC())}return{duration:i,delay:s,easing:o}}(e,n,t)}function Bo(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function LC(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function ar(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function mn(e,n,t){n.forEach((r,i)=>{const s=wp(i);t&&!t.has(i)&&t.set(i,e.style[s]),e.style[s]=r})}function Lr(e,n){n.forEach((t,r)=>{const i=wp(r);e.style[i]=""})}function Uo(e){return Array.isArray(e)?1==e.length?e[0]:SC(e):e}const _p=new RegExp("{{\\s*(.+?)\\s*}}","g");function $C(e){let n=[];if("string"==typeof e){let t;for(;t=_p.exec(e);)n.push(t[1]);_p.lastIndex=0}return n}function Vo(e,n,t){const r=e.toString(),i=r.replace(_p,(s,o)=>{let a=n[o];return null==a&&(t.push(function DB(e){return new w(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function mu(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const aU=/-+([a-z0-9])/g;function wp(e){return e.replace(aU,(...n)=>n[1].toUpperCase())}function wt(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function bB(e){return new w(3004,!1)}()}}function BC(e,n){return window.getComputedStyle(e)[n]}const yu="*";function cU(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function dU(e,n,t){if(":"==e[0]){const l=function fU(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function FB(e){return new w(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function xB(e){return new w(3015,!1)}()),n;const i=r[1],s=r[2],o=r[3];n.push(UC(i,o));"<"==s[0]&&!(i==yu&&o==yu)&&n.push(UC(o,i))}(r,t,n)):t.push(e),t}const vu=new Set(["true","1"]),_u=new Set(["false","0"]);function UC(e,n){const t=vu.has(e)||_u.has(e),r=vu.has(n)||_u.has(n);return(i,s)=>{let o=e==yu||e==i,a=n==yu||n==s;return!o&&t&&"boolean"==typeof i&&(o=i?vu.has(e):_u.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?vu.has(n):_u.has(n)),o&&a}}const hU=new RegExp("s*:selfs*,?","g");function Dp(e,n,t,r){return new pU(e).build(n,t,r)}class pU{constructor(n){this._driver=n}build(n,t,r){const i=new yU(t);return this._resetContextStyleTimingState(i),wt(this,Uo(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push(function CB(){return new w(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function SB(){return new w(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{$C(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(mu(s.values()),t.errors.push(function IB(e,n){return new w(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=wt(this,Uo(n.animation),t);return{type:1,matchers:cU(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jr(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>wt(this,r,t)),options:jr(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(o=>{t.currentTime=r;const a=wt(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:jr(n.options)}}visitAnimate(n,t){const r=function _U(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return bp(gu(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bp(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=gu(t,n);return bp(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:IC({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=IC(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===Fn?r.push(a):t.errors.push(new w(3002,!1)):r.push(LC(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function MB(e,n,t,r,i){return new w(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),t.options&&function oU(e,n,t){const r=n.params||{},i=$C(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function wB(e){return new w(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function AB(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(_=>{const y=this._makeStyleAst(_,t);let b=null!=y.offset?y.offset:function vU(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(y.styles),E=0;return null!=b&&(s++,E=y.offset=b),l=l||E<0||E>1,a=a||E<u,u=E,o.push(E),y});l&&t.errors.push(function RB(){return new w(3012,!1)}()),a&&t.errors.push(function NB(){return new w(3200,!1)}());const d=n.steps.length;let f=0;s>0&&s<d?t.errors.push(function OB(){return new w(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((_,y)=>{const b=f>0?y==h?1:f*y:o[y],E=b*m;t.currentTime=p+g.delay+E,g.duration=E,this._validateStyleAst(_,t),_.offset=b,r.styles.push(_)}),r}visitReference(n,t){return{type:8,animation:wt(this,Uo(n.animation),t),options:jr(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:jr(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:jr(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,o]=function gU(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(hU,"")),e=e.replace(/@\*/g,pu).replace(/@\w+/g,t=>pu+"-"+t.slice(1)).replace(/:animating/g,yp),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,_t(t.collectedStyles,t.currentQuerySelector,new Map);const a=wt(this,Uo(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:jr(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function PB(){return new w(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:gu(n.timings,t.errors,!0);return{type:12,animation:wt(this,Uo(n.animation),t),timings:r,options:null}}}class yU{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jr(e){return e?(e=Bo(e)).params&&(e.params=function mU(e){return e?Bo(e):null}(e.params)):e={},e}function bp(e,n,t){return{duration:e,delay:n,easing:t}}function Ep(e,n,t,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class wu{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const bU=new RegExp(":enter","g"),CU=new RegExp(":leave","g");function Cp(e,n,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new SU).buildKeyframes(e,n,t,r,i,s,o,a,l,u)}class SU{buildKeyframes(n,t,r,i,s,o,a,l,u,c=[]){u=u||new wu;const d=new Sp(n,t,u,i,s,c,[]);d.options=l;const f=l.delay?Ln(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),wt(this,r,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){const m=h[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[Ep(t,[],[],[],0,f,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const s=i?.delay;if(s){const o="number"==typeof s?s:Ln(Vo(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ln(r.duration):null,a=null!=r.delay?Ln(r.delay):null;return 0!==o&&n.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),wt(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Du);const o=Ln(s.delay);i.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>wt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?Ln(n.options.delay):0;n.steps.forEach(o=>{const a=t.createSubContext(n.options);s&&a.delayNextStep(s),wt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return gu(t.params?Vo(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?Ln(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Du);let o=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(n.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),wt(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;wt(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Du={};class Sp{constructor(n,t,r,i,s,o,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Du,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bu(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Ln(r.duration)),null!=r.delay&&(i.delay=Ln(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Vo(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new Sp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Du,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new IU(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,o){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(bU,"."+this._enterClassName)).replace(CU,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function kB(e){return new w(3014,!1)}()),a}}class bu{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new bu(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fn),this._currentKeyframe.set(t,Fn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function TU(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)t.set(s,Fn)}else ar(i,t)}),t}(n,this._globalTimelineStyles);for(let[a,l]of o){const u=Vo(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fn),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=ar(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?n.add(d):c===Fn&&t.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=n.size?mu(n.values()):[],o=t.size?mu(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Ep(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class IU extends bu{constructor(n,t,r,i,s,o,a=!1){super(n,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=ar(n[0]);l.set("offset",0),s.push(l);const u=ar(n[0]);u.set("offset",zC(a)),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=ar(n[d]);const h=f.get("offset");f.set("offset",zC((t+h*r)/o)),s.push(f)}r=o,t=0,i="",n=s}return Ep(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function zC(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class Ip{}const MU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class AU extends Ip{normalizePropertyName(n,t){return wp(n)}normalizeStyleValue(n,t,r,i){let s="";const o=r.toString().trim();if(MU.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function EB(e,n){return new w(3005,!1)}())}return o+s}}function qC(e,n,t,r,i,s,o,a,l,u,c,d,f){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const Tp={};class GC{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function RU(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||Tp,p=this.buildStyles(r,a&&a.params||Tp,d),g=l&&l.params||Tp,m=this.buildStyles(i,g,d),_=new Set,y=new Map,b=new Map,E="void"===i,O={params:NU(g,f),delay:this.ast.options?.delay},ie=c?[]:Cp(n,t,this.ast.animation,s,o,p,m,O,u,d);let fe=0;if(ie.forEach(Dt=>{fe=Math.max(Dt.duration+Dt.delay,fe)}),d.length)return qC(t,this._triggerName,r,i,E,p,m,[],[],y,b,fe,d);ie.forEach(Dt=>{const Yt=Dt.element,Iu=_t(y,Yt,new Set);Dt.preStyleProps.forEach($r=>Iu.add($r));const zo=_t(b,Yt,new Set);Dt.postStyleProps.forEach($r=>zo.add($r)),Yt!==t&&_.add(Yt)});const Ge=mu(_.values());return qC(t,this._triggerName,r,i,E,p,m,ie,Ge,y,b,fe)}}function NU(e,n){const t=Bo(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class OU{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=Bo(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Vo(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class kU{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new OU(i.style,i.options&&i.options.params||{},r))}),WC(this.states,"true","1"),WC(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GC(n,i,this.states))}),this.fallbackTransition=function xU(e,n,t){return new GC(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(o=>o.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function WC(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const FU=new wu;class LU{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],s=Dp(this._driver,t,r,[]);if(r.length)throw function UB(e){return new w(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,r){const i=n.element,s=AC(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=Cp(this._driver,t,s,mp,fu,new Map,new Map,r,FU,i),o.forEach(c=>{const d=_t(a,c.element,new Map);c.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function VB(){return new w(3300,!1)}()),o=[]),i.length)throw function HB(e){return new w(3504,!1)}();a.forEach((c,d)=>{c.forEach((f,h)=>{c.set(h,this._driver.computeStyle(d,h,Fn))})});const u=or(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function zB(e){return new w(3301,!1)}();return t}listen(n,t,r,i){const s=hp(t,"","","");return dp(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const KC="ng-animate-queued",Mp="ng-animate-disabled",VU=[],QC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zt="__ng_removed";class Ap{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function WU(e){return e??null}(r?n.value:n),r){const s=Bo(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ho="void",Rp=new Ap(Ho);class zU{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ft(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function qB(e,n){return new w(3302,!1)}();if(null==r||0==r.length)throw function GB(e){return new w(3303,!1)}();if(!function KU(e){return"start"==e||"done"==e}(r))throw function WB(e,n){return new w(3400,!1)}();const s=_t(this._elementListeners,n,[]),o={name:t,phase:r,callback:i};s.push(o);const a=_t(this._engine.statesByElement,n,new Map);return a.has(t)||(Ft(n,hu),Ft(n,hu+"-"+t),a.set(t,Rp)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function KB(e){return new w(3401,!1)}();return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),o=new Np(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Ft(n,hu),Ft(n,hu+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const u=new Ap(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=Rp),u.value!==Ho&&l.value===u.value){if(!function YU(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,u.params)){const g=[],m=s.matchStyles(l.value,l.params,g),_=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Lr(n,m),mn(n,_)})}return}const f=_t(this._engine.playersByElement,n,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let h=s.matchTransition(l.value,u.value,n,u.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Ft(n,KC),o.onStart(()=>{ss(n,KC)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(n);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),f.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,pu,!0);r.forEach(i=>{if(i[Zt])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(n,u,Ho,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),r&&or(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||Rp,c=new Ap(Ho),d=new Np(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let o=n;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[Zt];(!s||s===QC)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){Ft(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=hp(s,r.triggerName,r.fromState.value,r.toState.value);l._data=n,dp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class qU{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new zU(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(n,t,r,i){if(Eu(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!Eu(t))return;const s=t[Zt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ft(n,Mp)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ss(n,Mp))}removeNode(n,t,r){if(Eu(t)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==n&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[Zt]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return Eu(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,pu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,yp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return or(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Zt];if(t&&t.setForRemoval){if(n[Zt]=QC,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(Mp)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ft(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?or(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function QB(e){return new w(3402,!1)}()}_flushAnimations(n,t){const r=new wu,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(I=>{c.add(I);const N=this.driver.query(I,".ng-animate-queued",!0);for(let P=0;P<N.length;P++)c.add(N[P])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=JC(f,this.collectedEnterElements),p=new Map;let g=0;h.forEach((I,N)=>{const P=mp+g++;p.set(N,P),I.forEach(Q=>Ft(Q,P))});const m=[],_=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const N=this.collectedLeaveElements[I],P=N[Zt];P&&P.setForRemoval&&(m.push(N),_.add(N),P.hasAnimation?this.driver.query(N,".ng-star-inserted",!0).forEach(Q=>_.add(Q)):y.add(N))}const b=new Map,E=JC(f,Array.from(_));E.forEach((I,N)=>{const P=fu+g++;b.set(N,P),I.forEach(Q=>Ft(Q,P))}),n.push(()=>{h.forEach((I,N)=>{const P=p.get(N);I.forEach(Q=>ss(Q,P))}),E.forEach((I,N)=>{const P=b.get(N);I.forEach(Q=>ss(Q,P))}),m.forEach(I=>{this.processLeaveNode(I)})});const O=[],ie=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(t).forEach(P=>{const Q=P.player,Oe=P.element;if(O.push(Q),this.collectedEnterElements.length){const We=Oe[Zt];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(P.triggerName)){const Br=We.previousTriggersValues.get(P.triggerName),Lt=this.statesByElement.get(P.element);if(Lt&&Lt.has(P.triggerName)){const Tu=Lt.get(P.triggerName);Tu.value=Br,Lt.set(P.triggerName,Tu)}}return void Q.destroy()}}const yn=!d||!this.driver.containsElement(d,Oe),bt=b.get(Oe),lr=p.get(Oe),ge=this._buildInstruction(P,r,lr,bt,yn);if(ge.errors&&ge.errors.length)return void ie.push(ge);if(yn)return Q.onStart(()=>Lr(Oe,ge.fromStyles)),Q.onDestroy(()=>mn(Oe,ge.toStyles)),void i.push(Q);if(P.isFallbackTransition)return Q.onStart(()=>Lr(Oe,ge.fromStyles)),Q.onDestroy(()=>mn(Oe,ge.toStyles)),void i.push(Q);const c0=[];ge.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||c0.push(We)}),ge.timelines=c0,r.append(Oe,ge.timelines),o.push({instruction:ge,player:Q,element:Oe}),ge.queriedElements.forEach(We=>_t(a,We,[]).push(Q)),ge.preStyleProps.forEach((We,Br)=>{if(We.size){let Lt=l.get(Br);Lt||l.set(Br,Lt=new Set),We.forEach((Tu,kp)=>Lt.add(kp))}}),ge.postStyleProps.forEach((We,Br)=>{let Lt=u.get(Br);Lt||u.set(Br,Lt=new Set),We.forEach((Tu,kp)=>Lt.add(kp))})});if(ie.length){const I=[];ie.forEach(N=>{I.push(function ZB(e,n){return new w(3505,!1)}())}),O.forEach(N=>N.destroy()),this.reportError(I)}const fe=new Map,Ge=new Map;o.forEach(I=>{const N=I.element;r.has(N)&&(Ge.set(N,N),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,fe))}),i.forEach(I=>{const N=I.element;this._getPreviousPlayers(N,!1,I.namespaceId,I.triggerName,null).forEach(Q=>{_t(fe,N,[]).push(Q),Q.destroy()})});const Dt=m.filter(I=>e0(I,l,u)),Yt=new Map;YC(Yt,this.driver,y,u,Fn).forEach(I=>{e0(I,l,u)&&Dt.push(I)});const zo=new Map;h.forEach((I,N)=>{YC(zo,this.driver,new Set(I),l,"!")}),Dt.forEach(I=>{const N=Yt.get(I),P=zo.get(I);Yt.set(I,new Map([...N?.entries()??[],...P?.entries()??[]]))});const $r=[],l0=[],u0={};o.forEach(I=>{const{element:N,player:P,instruction:Q}=I;if(r.has(N)){if(c.has(N))return P.onDestroy(()=>mn(N,Q.toStyles)),P.disabled=!0,P.overrideTotalTime(Q.totalTime),void i.push(P);let Oe=u0;if(Ge.size>1){let bt=N;const lr=[];for(;bt=bt.parentNode;){const ge=Ge.get(bt);if(ge){Oe=ge;break}lr.push(bt)}lr.forEach(ge=>Ge.set(ge,Oe))}const yn=this._buildAnimation(P.namespaceId,Q,fe,s,zo,Yt);if(P.setRealPlayer(yn),Oe===u0)$r.push(P);else{const bt=this.playersByElement.get(Oe);bt&&bt.length&&(P.parentPlayer=or(bt)),i.push(P)}}else Lr(N,Q.fromStyles),P.onDestroy(()=>mn(N,Q.toStyles)),l0.push(P),c.has(N)&&i.push(P)}),l0.forEach(I=>{const N=s.get(I.element);if(N&&N.length){const P=or(N);I.setRealPlayer(P)}}),i.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<m.length;I++){const N=m[I],P=N[Zt];if(ss(N,fu),P&&P.hasAnimation)continue;let Q=[];if(a.size){let yn=a.get(N);yn&&yn.length&&Q.push(...yn);let bt=this.driver.query(N,yp,!0);for(let lr=0;lr<bt.length;lr++){let ge=a.get(bt[lr]);ge&&ge.length&&Q.push(...ge)}}const Oe=Q.filter(yn=>!yn.destroyed);Oe.length?QU(this,N,Oe):this.processLeaveNode(N)}return m.length=0,$r.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();const N=this.players.indexOf(I);this.players.splice(N,1)}),I.play()}),$r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==Ho;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(n,t,r){const s=t.element,o=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=_t(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Lr(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,f=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[Zt];if(m&&m.removedBeforeQueried)return new $o(p.duration,p.delay);const _=g!==l,y=function ZU(e){const n=[];return XC(e,n),n}((r.get(g)||VU).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===g),b=s.get(g),E=o.get(g),O=AC(this._normalizer,p.keyframes,b,E),ie=this._buildPlayer(p,O,y);if(p.subTimeline&&i&&d.add(g),_){const fe=new Np(n,a,g);fe.setRealPlayer(ie),u.push(fe)}return ie});u.forEach(p=>{_t(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function GU(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Ft(p,FC));const h=or(f);return h.onDestroy(()=>{c.forEach(p=>ss(p,FC)),mn(l,t.toStyles)}),d.forEach(p=>{_t(i,p,[]).push(h)}),h}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new $o(n.duration,n.delay)}}class Np{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new $o,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>dp(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){_t(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function Eu(e){return e&&1===e.nodeType}function ZC(e,n){const t=e.style.display;return e.style.display=n??"none",t}function YC(e,n,t,r,i){const s=[];t.forEach(l=>s.push(ZC(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const f=n.computeStyle(u,d,i);c.set(d,f),(!f||0==f.length)&&(u[Zt]=HU,o.push(u))}),e.set(u,c)});let a=0;return t.forEach(l=>ZC(l,s[a++])),o}function JC(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const i=new Set(n),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ft(e,n){e.classList?.add(n)}function ss(e,n){e.classList?.remove(n)}function QU(e,n,t){or(t).onDone(()=>e.processLeaveNode(n))}function XC(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof TC?XC(r.players,n):n.push(r)}}function e0(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class Cu{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new qU(n,t,r),this._timelineEngine=new LU(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const o=n+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=Dp(this._driver,s,l,[]);if(l.length)throw function $B(e,n){return new w(3404,!1)}();a=function PU(e,n,t){return new kU(e,n,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,o]=RC(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=RC(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let XU=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&mn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mn(this._element,this._initialStyles),this._endStyles&&(mn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Lr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lr(this._element,this._endStyles),this._endStyles=null),mn(this._element,this._initialStyles),this._state=3)}}return e})();function Op(e){let n=null;return e.forEach((t,r)=>{(function eV(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class t0{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:BC(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class tV{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return OC(n,t)}getParentElement(n){return pp(n)}query(n,t,r){return PC(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(h=>h instanceof t0);(function lU(e,n){return 0===e||0===n})(r,i)&&c.forEach(h=>{h.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function sU(e){return e.length?e[0]instanceof Map?e:e.map(n=>LC(n)):[]}(t).map(h=>ar(h));d=function uU(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<n.length;s++){let o=n[s];i.forEach(a=>o.set(a,BC(e,a)))}}return n}(n,d,u);const f=function JU(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=Op(n[0]),n.length>1&&(r=Op(n[n.length-1]))):n instanceof Map&&(t=Op(n)),t||r?new XU(e,t,r):null}(n,d);return new t0(n,d,l,f)}}let nV=(()=>{class e extends CC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:St.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?SC(t):t;return n0(this._renderer,null,r,"register",[i]),new rV(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Vs),T(dt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class rV extends yB{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new iV(this._id,n,t||{},this._renderer)}}class iV{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return n0(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function n0(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const r0="@.disabled";let sV=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new s0("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new oV(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(T(Vs),T(Cu),T(re))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class s0{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==r0?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class oV extends s0{constructor(n,t,r,i,s){super(t,r,i,s),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==r0?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function aV(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function lV(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}const o0=[{provide:CC,useClass:nV},{provide:Ip,useFactory:function cV(){return new AU}},{provide:Cu,useClass:(()=>{class e extends Cu{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(T(dt),T(gp),T(Ip),T(Sr))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})()},{provide:Vs,useFactory:function dV(e,n,t){return new sV(e,n,t)},deps:[ch,Cu,re]}],Pp=[{provide:gp,useFactory:()=>new tV},{provide:Ly,useValue:"BrowserAnimations"},...o0],a0=[{provide:gp,useClass:kC},{provide:Ly,useValue:"NoopAnimations"},...o0];let fV=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?a0:Pp}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=_n({providers:Pp,imports:[$b]})}return e})(),hV=(()=>{class e{constructor(t,r){this.databaseService=t,this.blockService=r,this.turn=0,this.blockService.numberOfTurns.subscribe(i=>this.turn=i)}ngOnInit(){var t=this;return v(function*(){t.turn=(yield t.databaseService.getTurns()).turns[0].turns})()}getActivePlayer(){return this.turn%2==0?"Player 1's turn":"Player 2's turn"}static#e=this.\u0275fac=function(r){return new(r||e)(M(is),M(jo))};static#t=this.\u0275cmp=fr({type:e,selectors:[["app-turn"]],decls:2,vars:1,template:function(r,i){1&r&&(Se(0,"p"),br(1),Ie()),2&r&&(mt(1),hl(i.getActivePlayer()))}})}return e})(),pV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e,bootstrap:[up]});static#n=this.\u0275inj=_n({imports:[$b,_$,fV]})}return e})();(function Cg(e,n,t){const r=e.\u0275cmp;r.directiveDefs=oa(n,!1),r.pipeDefs=oa(t,!0)})(up,[lB,gB,mB,hV],[]),AF().bootstrapModule(pV).catch(e=>console.error(e))},470:(qo,os,Ne)=>{Ne.r(os),Ne.d(os,{Headers:()=>$e,Request:()=>Go,Response:()=>Wo,default:()=>Ur,fetch:()=>as});var Jt=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const as=Jt.fetch,Ur=Jt.fetch.bind(Jt),$e=Jt.Headers,Go=Jt.Request,Wo=Jt.Response}},qo=>{qo(qo.s=0)}]);